{"version":3,"sources":["private/atomHelpers.js","private/atoms.js","Block.js","private/baseThemeConfig.js","reactContexts.js","private/styles.js","Color.js","private/useBrowserState.js","Theme.js","Contrast.js","private/nano.js","private/Arrow.js","Body.js","private/Labeled.js","private/Range.js","private/Button.js","private/displayError.js","private/Checkbox.js","private/ColorRamps.js","private/AllExceptFirst.js","private/Pallet.js","demo/themeConfigs.js","private/Input.js","private/Themes.js","private/ThemerShell.js","private/BgColors.js","Themer.js","ThemeConfigurator.js","huet.js","private/ErrorBoundary.js","private/cache.js","private/Select.js","index.js","demo/globals.js"],"names":["make","atomPrefix","cssPropertyOrProperties","scale","atoms","Array","isArray","forEach","val","i","style","cssProperty","properties","Object","defineProperty","makeSides","directionsMap","t","r","b","l","v","h","a","keys","dirKey","assign","map","suffix","spaceScale","sizeScale","objectSpread","bt","borderTopStyle","borderTopWidth","br","borderRightStyle","borderRightWidth","bb","borderBottomStyle","borderBottomWidth","ba","borderStyle","borderWidth","bn","br0","borderRadius","br1","br2","br3","br4","br100","di","display","db","dib","o0","opacity","opacity0","w100","width","h100","height","relative","position","absolute","top0","top","left0","left","fontWeight","fontStyle","mono","fontFamily","tc","textAlign","flex","inline_flex","flex_row","flexDirection","flex_column","flex_wrap","flexWrap","flex_auto","flexGrow","flexShrink","flexBasis","minWidth","minHeight","items_center","alignItems","items_end","justify_center","justifyContent","justify_end","justify_between","self_stretch","alignSelf","at","ab","bottom","al","ar","right","ac","transform","atc","abc","alc","arc","chainable","obj","chained","key","get","thing","this","length","create","Block","_ref","finalTheme","relativeToColor","returnStyle","_ref$as","as","theme","debug","_ref$contrast","contrast","base","children","rest","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_2__","parentTheme","useContext","ThemeContext","parentBg","BackgroundContext","Color","fromTheme","Error","ramps","_","isFunction","isObject","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","str","things","split","colors","parent","_thing$split","_thing$split2","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","value","_ref2","_value$split","_value$split2","first","second","parseInt","firstAsInt","Number","isInteger","_ref3","rampKey","_ref4","_ref5","parentKey","childKey","color","undefined","keyToCss","parseColorsToStyle","props","returnChildren","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","_reactContexts__WEBPACK_IMPORTED_MODULE_6__","Provider","backgroundColor","React","bg","fg","o","colorLabels","hueUnit","palletColors","reduce","acc","label","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","chroma","hcl","hex","__webpack_exports__","id","name","pallet","black","white","gray","colorModel","classes","mode","isNeutral","bgRamp","bgRampValue","startSignalLightness","endSignalLightness","contrastMultiplier","signalSaturationMultiplier","rescaleContrastToSignalRange","rescaleSaturationToGrayRange","rescaleContrastToGrayRange","__webpack_require__","d","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","createContext","maxInputWidthStyle","maxWidth","inputStyle","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","WebkitAppearance","fontSize","padding","cursor","__","rangeClass","rule","background","::-webkit-slider-thumb","focusStyle","outline","outlineOffset","border","boxShadow","zIndex","focusWithinClass",":focus-within","colorClass","::-webkit-color-swatch-wrapper","::-webkit-color-swatch","resetStyle","*","boxSizing","resetClass","themerClass","all","f7","transitionProperty","transitionDuration","transitionTimingFunction","*:focus","invisibleScreenClass","cache","Cache","window","_this","_ref$bgColor","bgColor","lab","_ref$ramp","ramp","_ref$baseRamp","baseRamp","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_5__","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_1__","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_2__","call","lightness","_this2","contrastAmount","arguments","config","direct","isRootBaseRamp","_this2$_getMinMax","_getMinMax","_this2$_getMinMax2","min","max","_this2$_getMinMax3","_this2$_getMinMax4","bgMin","bgMax","normalizedLightness","basicMultiplier","midpoint","advancedMultiplier","contrastNormalizer","colorContrastMinMax","Math","abs","scaleValue","startL","endL","_this2$lab","bgL","bgA","bgB","_ramp","_ramp2","fgL","fgA","fgB","abContrastMultiplier","abSaturationMultiplier","abContrast","_this3","_ramp3","_ramp4","_this3$lab","mix","amount","apply","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__","alpha","rootBaseRamp","Theme","BaseColor","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_6__","getLightness","counter","reset","localStorage","clear","location","reload","incrementUnsaved","decrementUnsaved","useIsBrowserStateSaving","_useState","useState","_useState2","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","setKeys","isSaving","useEffect","includes","concat","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","filter","k","beforeUnload","e","preventDefault","addEventListener","removeEventListener","useBrowserState","defaultValue","_useState3","btoa","JSON","stringify","slice","defaultKey","_useState5","storedString","getItem","storedValue","parse","_useState6","setValue","debounceSaveToLocalStorage","useCallback","fn","delay","debounced","debounce","countedDebounce","setItem","newValueOrFunc","allowed","baseConfig","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","mapValues","themeConfig","rampConfig","defaultRampConfig","hexColors","colorName","wrapScaleFunc","createDirectRampWithScale","correctLightness","scaleFunc","createRampWithScale","createRamp","Contrast","_as$bg$border$outline","text","textRamp","borderRamp","outlineRamp","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__","parentColor","finalChildren","textColor","react__WEBPACK_IMPORTED_MODULE_2___default","_reactContexts__WEBPACK_IMPORTED_MODULE_3__","coloredStyle","borderColor","outlineColor","returnProps","nano_css__WEBPACK_IMPORTED_MODULE_0__","nano_css_addon_cache__WEBPACK_IMPORTED_MODULE_1__","nano_css_addon_rule__WEBPACK_IMPORTED_MODULE_2__","nano_css_addon_drule__WEBPACK_IMPORTED_MODULE_3__","nano","addonCache","addonRule","addonDrule","drule","directionToCss","up","baseProp","leftProp","rightProp","down","Arrow","_objectSpread2","_ref$size","size","_ref$direction","direction","directionCss","ThemeConfiguratorContext","Body","_ref$initialThemeConf","initialThemeConfig","baseThemeConfig","setDocumentBodyColors","objectWithoutProperties","_useBrowserState","_useBrowserState2","slicedToArray","setThemeConfig","document","body","react_default","Labeled","className","mb1","Range","_ref$min","_ref$max","_ref$decimals","decimals","onChange","_ref$className","_ref$hideInput","hideInput","step","pow","isTyping","setIsTyping","toFixed","_useState4","stringNumber","setStringNumber","isOutOfRange","labelBody","useMemo","onKeyDown","console","log","shiftKey","which","aria-hidden","type","mr2","onFocus","onBlur","target","parsed","parseFloat","isFinite","aria-label","JsonUploadButton","onUpload","Button","reader","FileReader","onload","result","message","file","files","readAsText","error","alert","doubleCheck","boolOrMessage","cb","confirm","_ref2$as","isActive","verify","onClick","TextButton","_ref3$as","textDecoration","Checkbox","note","checked","mr1","lineHeight","RampColorMarker","grayRamp","w1","h1","outlineWidth","outlineStyle","duplicate","InnerRamp","memo","classesArr","toConsumableArray","range","last","middle","initial","tail","chunk","flatMap","pairs","join","ColorRamp","mb2","marginLeft","ColorRamps_InnerRamp","ColorRamps","marginBottom","ColorRamps_ColorRamp","AllExceptFirst","styleExcept","styleEach","Children","child","HSpace","_ref2$size","growEach","VSpace","_ref3$size","ColorPicker","pa0","overflow","Pallet","onColorsChange","c","themes","shared","red","yellow","green","blue","purple","Input","ThemeFrame","isSelected","isHidden","pv3","pl3","pointerEvents","marginRight","palletKey","Title","mh2","pv2","Shadow","marginTop","ColorMatrix","contrastInner","Section","Fragment","pa2","ThemePreview","onRemove","setIsHidden","isBaseTheme","Themes_Pallet","setTimeout","ModifiedThemePreview","onReset","onCreate","mt1","Themes","_ref6","defaultThemeConfigs","themeConfigs","setThemeConfigs","_useContext","_useContext2","setSelectedConfig","selectedConfig","scrollContainerRef","useRef","current","childNodes","getBoundingClientRect","currentIndex","findIndex","scrollTo","behavior","exportTheme","configWithNewId","random","blob","Blob","saveAs","ref","overflowX","onSelect","newThemeConfigs","isSelectedAndModified","newConfig","reactContexts","pr3","ph3","pb3","BrowserStateActivity","count","ph2","TitleBar","isExpanded","userSelect","shadowBorderStyle","ThemerShell","setIsExpanded","isMounted","setIsMounted","maxHeight","BgColorPreview","h2","shadowColor","BgColors","onRampValueChange","baseTheme","ScrollPanel","overflowY","overscrollBehavior","SettingTitled","settingKey","mt2","definitions","description","example","Help","pa3","f6","def","mt3","pt3","Themer","shouldThemeSelf","setShouldThemeSelf","modify","newValue","setBgRampValue","setContrastMultiplier","setSaturationMultiplier","setPallet","setStartSignalLightness","setEndSignalLightness","setRescaleContrastToGrayRange","setRescaleSaturationToGrayRange","setRescaleContrastToSignalRange","themerTheme","_useBrowserState3","_useBrowserState4","showHelp","setShowHelp","pa1","private_Checkbox","private_Range","browser","detect","ThemeConfigurator","ErrorBoundary","componentName","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_markmironyuk_proj_huet_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","state","hasError","info","react__WEBPACK_IMPORTED_MODULE_5___default","margin","Component","MISS","resetAtItemCount","path","itemCount","running","set","has","Map","setAtPath","cached","response","getAtPath","tries","hits","func","cachedValue","round","Select","selectedChild","toArray","find","finalValue","react__WEBPACK_IMPORTED_MODULE_1___default","_Block__WEBPACK_IMPORTED_MODULE_5__","_Arrow__WEBPACK_IMPORTED_MODULE_6__","ml2","pages","minimal","component","_huet__WEBPACK_IMPORTED_MODULE_9__","basic","lazy","Promise","then","bind","github","colorContrast","youtube","explanation","rootElement","getElementById","ReactDOM","render","StrictMode","_private_ErrorBoundary__WEBPACK_IMPORTED_MODULE_6__","pageKey","setPageKey","_private_Select__WEBPACK_IMPORTED_MODULE_11__","react__WEBPACK_IMPORTED_MODULE_2__","fallback"],"mappings":"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","file":"static/js/main.c34b723e.chunk.js","sourcesContent":["/**\n * Creates atoms\n * EX:\n * make('f', 'fontSize', [0, '1rem', '2rem'])\n * // returns { f0: { fontSize: 0 }, f1: { fontSize: '1rem' }, ... }\n * @param {String} atomPrefix Usually a single letter or a couple letters\n * @param {String|Array} cssPropertyOrProperties CSS property or properties that you\n * want to map the atom prefix to\n * @param {Array} scale The scale that has the values we'll be using for each generated atom\n */\nexport function make(atomPrefix, cssPropertyOrProperties, scale) {\n  let atoms = {};\n\n  if (Array.isArray(cssPropertyOrProperties)) {\n    const properties = val => {\n      let style = {};\n      const cssProperties = cssPropertyOrProperties;\n      cssProperties.forEach(cssProperty => {\n        style[cssProperty] = val;\n      });\n      return style;\n    };\n    scale.forEach((val, i) => {\n      atoms[atomPrefix + i] = properties(val);\n    });\n  } else {\n    const cssProperty = cssPropertyOrProperties;\n    scale.forEach((val, i) => {\n      atoms[atomPrefix + i] = { [cssProperty]: val };\n    });\n  }\n\n  return atoms;\n}\n\n/**\n * See `make`. The only difference is we generate atoms\n * for setting different combinations of sides.\n * @param {String} atomPrefix\n * @param {String} cssProperty\n * @param {Array} scale\n */\nexport function makeSides(atomPrefix, cssProperty, scale) {\n  // Used to create CSS properties like `marginTop`\n  const directionsMap = {\n    t: [\"Top\"],\n    r: [\"Right\"],\n    b: [\"Bottom\"],\n    l: [\"Left\"],\n    v: [\"Top\", \"Bottom\"],\n    h: [\"Left\", \"Right\"],\n    a: [\"Top\", \"Right\", \"Bottom\", \"Left\"]\n  };\n\n  let atoms = {};\n  Object.keys(directionsMap).forEach(dirKey => {\n    return Object.assign(\n      atoms,\n      make(\n        atomPrefix + dirKey,\n        directionsMap[dirKey].map(suffix => cssProperty + suffix),\n        scale\n      )\n    );\n  });\n  return atoms;\n}\n\n/**\n * Take an object of KV pairs and then allow picking which V's get\n * included by specifying a chain of K's.\n * EX:\n * const obj = {\n *   a: { A: 'A', extra: 'balbla' },\n *   b: { B: 'B' },\n *   c: { C: 'C' },\n *   ...\n * }\n * const chained = chain(obj).c.a.t;\n * // returns { C: 'C', A: 'A', extra: 'blabla',  T: 'T' }\n * @param {*} obj\n */\nexport function chainable(obj) {\n  // Adopted from: https://github.com/streamich/nano-css/blob/aedbc419eb7f62a72dbf01f3420951e570aee8b9/addon/snake.js\n  let chained = {};\n  Object.keys(obj).map(key =>\n    Object.defineProperty(chained, key, {\n      get() {\n        let thing = Object.keys(this).length ? this : Object.create(this);\n        Object.assign(thing, obj[key]);\n        return thing;\n      }\n    })\n  );\n  return chained;\n}\n","import { make, makeSides, chainable } from \"./atomHelpers\";\n/*\n  Adapted from: https://tachyons.io/docs/table-of-styles/\n  Adding styles as they're used to limit bloat.\n\n  Why this exists?\n  ---\n  I wanted to use Tachyon's atomic styles in this components because it's easier to\n  quickly style individual elements with it and prototype. However, it's so nice to use\n  atomic styles that when it came to bundling, the <Themer /> so it can be embedded in\n  other projects, I decided to opt for keeping atomic styles rather than rewriting them\n  into something else and figuring out how to name all the class names and so on.\n\n  I would prefer to keep atomic styles in classes, but:\n  - I don't want to pollute the global namespance of anyone who uses the <Themer /> component\n  - I couldn't find any packages that might convert or namespace the CSS (to minimize collisions)\n  - Doing the conversion myself via Babel would have been tricky\n  - It seems easier to generate classes if the styles are already in JS. Then again, the current approach\n    of adding atoms to the style prop may not be the best idea. Maybe add them to a custom prop\n    like `atomStyle` or `atoms` and then transpile it into namespaced classes.\n\n  Why not use nano-css?\n  - It didnt' include all the Tachyon styles I wanted, and included ones that I didn't want\n  - Fun to rebuild the `snake` addon functionality to understand how it works\n  - Keep tabs of which atoms I tend to use in one place\n  - I may end up switching to nano-css anyways\n\n  Why underscores?\n  ---\n  It's easier to read, though not idiomatic JS.\n\n  Limitations\n  ---\n  Putting styles on the style prop in React makes them difficult to override. However, for components\n  meant to be embedded in other apps, it also prevents others from easily overriding styles.\n\n  Future explorations\n  ---\n  It will be interesting to explore treating the style prop as the real primitive that we want to target\n  and then think of conversion to classes as an optimization. Even so, we still want to style\n  hover effects, pseudo form elements, etc.\n\n  Ideas:\n  - Add Huet color support\n  - Add some layout styles\n  - Put styles on custom React prop `atoms` and then extract CSS at build time\n    (Huet colors may not be extractable)\n*/\n\n// EX: `mt2` will use spaceScale[2]\nconst fontScale = [\n  0,\n  \"3rem\",\n  \"2.25rem\",\n  \"1.5rem\",\n  \"1.25rem\",\n  \"1rem\",\n  \".875rem\",\n  \".75rem\"\n];\nconst spaceScale = [0, \".25rem\", \".5rem\", \"1rem\", \"2rem\", \"4rem\"];\nconst sizeScale = [0, \"1rem\", \"2rem\", \"4rem\"];\n\nconst atoms = {\n  // Borders\n  bt: {\n    borderTopStyle: \"solid\",\n    borderTopWidth: \"1px\"\n  },\n  br: {\n    borderRightStyle: \"solid\",\n    borderRightWidth: \"1px\"\n  },\n  bb: {\n    borderBottomStyle: \"solid\",\n    borderBottomWidth: \"1px\"\n  },\n  ba: {\n    borderStyle: \"solid\",\n    borderWidth: \"1px\"\n  },\n  bn: {\n    borderStyle: \"none\",\n    borderWidth: 0\n  },\n\n  br0: { borderRadius: 0 },\n  br1: { borderRadius: \".125rem\" },\n  br2: { borderRadius: \".25rem\" },\n  br3: { borderRadius: \".5rem\" },\n  br4: { borderRadius: \"1rem\" },\n  br100: { borderRadius: \"100%\" },\n\n  // Display\n  di: { display: \"inline\" },\n  db: { display: \"block\" },\n  dib: { display: \"inline-block\" },\n\n  // Opacity\n  o0: { opacity: 0 },\n  opacity0: { opacity: 0 },\n\n  // Size\n  ...make(\"w\", \"width\", sizeScale),\n  ...make(\"h\", \"height\", sizeScale),\n  w100: { width: \"100%\" },\n  h100: { height: \"100%\" },\n\n  // Position\n  relative: { position: \"relative\" },\n  absolute: { position: \"absolute\" },\n  top0: { top: 0 },\n  left0: { left: 0 },\n\n  // Spacing\n  ...makeSides(\"m\", \"margin\", spaceScale),\n  ...makeSides(\"p\", \"padding\", spaceScale),\n\n  // Font\n  ...make(\"f\", \"fontSize\", fontScale),\n  b: { fontWeight: \"bold\" },\n  i: { fontStyle: \"italic\" },\n  mono: { fontFamily: \"Monaco, monospace\" },\n\n  // Text align\n  tc: { textAlign: \"center\" },\n\n  // Flex\n  flex: { display: \"flex\" },\n  inline_flex: { display: \"inline-flex\" },\n  flex_row: { flexDirection: \"row\" },\n  flex_column: { flexDirection: \"column\" },\n  flex_wrap: { flexWrap: \"wrap\" },\n  flex_auto: {\n    // flex: \"1 1 auto\", doesn't work because we already have a 'flex` prop defined\n    flexGrow: 1,\n    flexShrink: 1,\n    flexBasis: \"auto\",\n    minWidth: 0,\n    minHeight: 0\n  },\n  items_center: {\n    alignItems: \"center\"\n  },\n  items_end: {\n    alignItems: \"flex-end\"\n  },\n  justify_center: {\n    justifyContent: \"center\"\n  },\n  justify_end: {\n    justifyContent: \"flex-end\"\n  },\n  justify_between: {\n    justifyContent: \"space-between\"\n  },\n  self_stretch: {\n    alignSelf: \"stretch\"\n  },\n\n  // Pinning\n  at: {\n    position: \"absolute\",\n    top: 0\n  },\n  ab: {\n    position: \"absolute\",\n    bottom: 0\n  },\n  al: {\n    position: \"absolute\",\n    left: 0\n  },\n  ar: {\n    position: \"absolute\",\n    right: 0\n  },\n\n  // Pinning and centering\n  ac: {\n    position: \"absolute\",\n    left: \"50%\",\n    right: \"50%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  atc: {\n    position: \"absolute\",\n    top: 0,\n    left: \"50%\",\n    transform: \"translateX(-50%)\"\n  },\n  abc: {\n    position: \"absolute\",\n    bottom: 0,\n    left: \"50%\",\n    transform: \"translateX(-50%)\"\n  },\n  alc: {\n    position: \"absolute\",\n    left: 0,\n    top: \"50%\",\n    transform: \"translateY(-50%)\"\n  },\n  arc: {\n    position: \"absolute\",\n    right: 0,\n    top: \"50%\",\n    transform: \"translateY(-50%)\"\n  }\n};\n\nexport default chainable(atoms);\n","import React, { useContext } from \"react\";\nimport _ from \"lodash\";\nimport Color from \"./Color\";\nimport { ThemeContext, BackgroundContext } from \"./reactContexts\";\n\n/*\n  By default we want to have 100% contrast text.\n  If we have a bg, we want the text color to be based on it.\n  Otherwise, text color should be based on the parent bg.\n\n  However, we don't need to create a style for text if the bg\n  hasn't changed  through multiple iterations of bg.Then again,\n  maybe the user should use a <div> in those cases (where neither bg or fg needs to be changed).\n\n  Finally, if the user changes the base, we'll want to recalculate the fg color anyways (even\n  if the bg color is the same).\n\n  So, in conclusion:\n  - Set `contrast` to \"fg=100\" by default\n  - If user sets bg in `contrast`, then calculate contrast based on that by default.\n    In other words, \"bg=100\" means the same as \"bg=100 fg/bg=100\"\n*/\n\nexport default function Block({\n  as = \"div\",\n  theme,\n  debug,\n  style,\n  contrast = \"fg=100\",\n  base,\n  children,\n  ...rest\n}) {\n  if (debug) {\n    debugger;\n  }\n\n  const parentTheme = useContext(ThemeContext);\n  const parentBg = useContext(BackgroundContext);\n\n  let finalTheme;\n  let relativeToColor;\n\n  if (theme) {\n    finalTheme = theme;\n    relativeToColor = Color.fromTheme(theme);\n  } else {\n    finalTheme = parentTheme;\n    relativeToColor = parentBg;\n  }\n\n  if (!finalTheme) {\n    throw new Error(\"Need to set a theme before using a Block\");\n  }\n\n  if (base) {\n    relativeToColor = relativeToColor.base(finalTheme.ramps[base]);\n  }\n\n  let returnStyle;\n  if (_.isFunction(style)) {\n    returnStyle = style(relativeToColor);\n  } else if (_.isObject(style)) {\n    returnStyle = style;\n  } else if (!style) {\n    returnStyle = null;\n  } else {\n    throw new Error(\"Unsupported style prop value\");\n  }\n\n  if (contrast) {\n    // TODO: consider making \"contrast\" prop values depend on the value of stuff set in style?\n    returnStyle = {\n      ...returnStyle,\n      ...parseColorsToStyle(relativeToColor, contrast)\n    };\n  }\n\n  const props = {\n    style: returnStyle,\n    ...rest\n  };\n\n  // Wrap children with context\n\n  let returnChildren = children;\n  if (theme) {\n    returnChildren = children ? (\n      <ThemeContext.Provider value={finalTheme}>\n        {children}\n      </ThemeContext.Provider>\n    ) : null;\n  }\n  if (returnStyle && returnStyle.backgroundColor) {\n    if (!returnStyle.backgroundColor instanceof Color) {\n      throw new Error(\"Use a Huet Color instance here.\");\n    }\n    returnChildren = children ? (\n      <BackgroundContext.Provider value={returnStyle.backgroundColor}>\n        {returnChildren}\n      </BackgroundContext.Provider>\n    ) : null;\n  } else if (theme) {\n    if (!children) {\n      throw new Error(\n        \"Add children to the <Block> in order to see something on screen.\"\n      );\n    }\n    returnChildren = (\n      <BackgroundContext.Provider value={relativeToColor}>\n        {returnChildren}\n      </BackgroundContext.Provider>\n    );\n  }\n\n  // Return element with props and children from above\n\n  return React.createElement(as, props, returnChildren);\n}\n\n// ---\n\nconst keyToCss = {\n  bg: \"backgroundColor\",\n  fg: \"color\",\n  b: \"borderColor\",\n  o: \"outlineColor\"\n};\n\nfunction parseColorsToStyle(relativeToColor, str) {\n  const theme = relativeToColor.theme;\n\n  const things = str.split(\" \");\n  let returnStyle = {};\n  let colors = {\n    parent: relativeToColor\n  };\n  things.forEach(thing => {\n    // thing: 'bg/fg=10-red'\n\n    // key: 'bg' value: '10-red'\n    const [key, value] = thing.split(\"=\");\n\n    // contrast: '10' rampKey: 'red'\n    const [contrast, rampKey] = (() => {\n      // 10-red || 10 || red\n      const [first, second] = value.split(\"-\");\n      if (first && second) {\n        return [parseInt(first, 10), second];\n      }\n\n      // TODO: verify that a zero (0) should get ignored here\n      const firstAsInt = parseInt(first, 10);\n      if (Number.isInteger(firstAsInt)) {\n        return [firstAsInt];\n      } else {\n        // eslint-disable-next-line no-sparse-arrays\n        return [, first];\n      }\n    })();\n\n    // keys: ['bg', 'fg']\n    const keys = key.split(\"/\");\n\n    // parentKey: 'bg' childKey: 'fg'\n    const [parentKey, childKey] = keys.length > 1 ? keys : [\"parent\", keys[0]];\n\n    if (parentKey === \"fg\") {\n      throw new Error(\n        `Can't use \"fg\" as the parent as in \"fg/bg=100\". This limitation exists to prevent accidental mistakes assuming you meant \"bg/fg=100\". However, if you think you have a legitimate use case, please create an issue on Github.`\n      );\n    }\n\n    const parentColor = colors[parentKey];\n\n    const color = parentColor.contrast(\n      contrast,\n      rampKey ? theme.ramps[rampKey] : undefined\n    );\n    colors[childKey] = color;\n\n    returnStyle[keyToCss[childKey]] = color;\n\n    if (childKey === \"bg\") {\n      returnStyle.color = color.contrast(100);\n    }\n  });\n\n  return returnStyle;\n}\n","import chroma from \"chroma-js\";\n/*\n  Maybe we can allow the pallet to be generated:\n  - Pick min and max lightness\n  - Pick base color\n*/\n\nconst hueStart = 20; // Gets us blues and greens that have 0 in the R in RGB\nconst l = 50; // Doesn't really matter which value we put here\nconst c = 60; // Over about 40 leads to colors in blue range to veer off\n\n/* eslint-disable no-sparse-arrays */\nconst colorLabels = [\"red\", \"yellow\", \"green\", , \"blue\", \"purple\"]; // skip teal\nconst hueUnit = 360 / colorLabels.length;\n\nconst palletColors = colorLabels.reduce(\n  (acc, label, i) => ({\n    ...acc,\n    [label]: chroma.hcl(hueUnit * i + hueStart, c, l).hex()\n  }),\n  {}\n);\n\nconst ramps = colorLabels.reduce(\n  (acc, label) => ({\n    ...acc,\n    [label]: { colors: [\"black\", label, \"white\"] }\n  }),\n  {}\n);\n\nexport default {\n  id: 0,\n  name: \"Base\",\n  pallet: {\n    black: \"#000000\",\n    white: \"#ffffff\",\n    ...palletColors\n  },\n  ramps: {\n    gray: {\n      colorModel: \"lab\"\n    },\n    white: {\n      colors: [\"white\", \"black\"],\n      classes: [0, 0.7, 1],\n      mode: \"direct\",\n      isNeutral: true\n    },\n    ...ramps\n  },\n  bgRamp: \"gray\",\n  bgRampValue: 1,\n  startSignalLightness: 0.49,\n  endSignalLightness: 0.49,\n  contrastMultiplier: 1,\n  signalSaturationMultiplier: 1,\n  rescaleContrastToSignalRange: true,\n  rescaleSaturationToGrayRange: false,\n  rescaleContrastToGrayRange: true\n};\n\n/*\nRamp modes:\n- furthest\n- signal\n- punched\n- constant\n- direct\n*/\n","import React from \"react\";\nexport const ThemeContext = React.createContext();\nexport const BackgroundContext = React.createContext();\n","import { rule } from \"./nano\";\nimport __ from \"./atoms\";\n\n// Don't want inputs streching to unreasonable sizes\nconst MAX_INPUT_WIDTH = \"30em\";\nexport const fontStackStyle = {\n  fontFamily:\n    '-apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif'\n};\n\nexport const maxInputWidthStyle = {\n  maxWidth: MAX_INPUT_WIDTH\n};\n\nexport const inputStyle = {\n  WebkitAppearance: \"none\",\n  fontSize: \"inherit\",\n  fontFamily: \"inherit\",\n  padding: \"0.3em 0.5em\",\n  borderWidth: 1,\n  borderStyle: \"solid\",\n  // borderColor: \"transparent\",\n  width: \"100%\",\n  maxWidth: MAX_INPUT_WIDTH,\n  cursor: \"default\",\n  ...__.br1\n};\n\nexport const rangeClass = rule({\n  // Reset\n  WebkitAppearance:\n    \"none\" /* Hides the slider so that custom slider can be made */,\n  width: \"100% !important\" /* Specific width is required for Firefox. */,\n  background: \"transparent\", // Otherwise white in Chrome\n  // Style\n  display: \"block\",\n\n  \"::-webkit-slider-thumb\": {\n    // Reset\n    WebkitAppearance: \"none !important\",\n    // Style\n    background: \"currentColor !important\",\n    width: \"1px !important\",\n    height: \"1em !important\"\n  }\n});\n\nconst focusStyle = {\n  outline: \"1px solid #00000033\",\n  outlineOffset: -1,\n  border: \"1px solid #ffffff66 !important\",\n  boxShadow: \"0px 1px 10px #00000066 !important\",\n  zIndex: 1\n};\n\nexport const focusWithinClass = rule({\n  \":focus-within\": focusStyle\n});\n\nexport const colorClass = rule({\n  \"::-webkit-color-swatch-wrapper\": {\n    WebkitAppearance: \"none !important\",\n    padding: 0\n  },\n  \"::-webkit-color-swatch\": {\n    border: \"none\",\n    padding: 0\n  }\n});\n\nexport const resetStyle = {\n  ...fontStackStyle,\n  \"*\": {\n    boxSizing: \"border-box\"\n  }\n};\n\nexport const resetClass = rule(resetStyle);\n\nexport const themerClass = rule({\n  all: \"initial\",\n  ...resetStyle,\n  ...__.f7,\n  right: 0,\n  bottom: 0,\n  position: \"fixed\",\n  zIndex: 999,\n  transitionProperty: \"opacity, transform, height\",\n  transitionDuration: \"200ms\",\n  transitionTimingFunction: \"ease-out\",\n\n  \"*\": {\n    all: \"unset\",\n    display: \"block\",\n    ...resetStyle[\"*\"]\n  },\n  \"*:focus\": focusStyle\n});\n\nexport const invisibleScreenClass = rule({\n  ...__.absolute.w100.h100.left0.top0.opacity0\n});\n","import chroma from \"chroma-js\";\nimport Theme from \"./Theme\";\nimport Cache from \"./private/cache\";\n\nconst cache = new Cache();\nwindow.cache = cache;\n\n/*\n  Rationale:\n  We want colors to context-dependent. This means there's really no such thing\n  as \"red\" with a specific hex value. Instead, we want to be able to say we want\n  a red that *stands out* from the background color by a certain amount. The properties\n  of how to make a red stand out, and what \"red\" really means is defined by the theme.\n\n  In the theme, the \"red\" would be defined as a \"ramp\" that specifies the boundaries\n  of what's allowed for the color. However, this doesn't mean we'll always pick one of these\n  colors. We'll pick a color that's on the plane between the ramp of the color you want and the\n  ramp of the parent color.\n*/\n// ---\n\nexport class BaseColor {\n  constructor(lab) {\n    if (!lab) {\n      throw new Error(\"`lab` is required\");\n    }\n    this.lab = lab;\n    this.hex = chroma.lab(...this.lab).hex();\n  }\n\n  alpha(a) {\n    // TODO: maybe just do string ops to do #RRGGBBAA\n    return chroma(this.hex)\n      .alpha(a)\n      .hex();\n  }\n\n  toString() {\n    return this.hex;\n  }\n}\n\nexport default class Color extends BaseColor {\n  constructor({ theme, bgColor = null, lab, ramp = null, baseRamp = null }) {\n    super(lab);\n    if (!theme) {\n      throw new Error(\"`theme` is required\");\n    }\n\n    if (baseRamp && (!(\"startL\" in baseRamp) || !(\"endL\" in baseRamp))) {\n      throw new Error(\"`baseRamp` can't be a direct ramp\");\n    } else if (\n      !baseRamp &&\n      !(bgColor && !bgColor.baseRamp) &&\n      !theme.ramps.gray\n    ) {\n      throw new Error(\"No baseRamp\");\n    }\n    // TODO: consider making this private so there aren't two ways of getting a theme:\n    // 1) From a color\n    // 2) From a useContext(ThemeContext)\n    // Also consider making `ThemeContext` only available internally to Huet\n    this.theme = theme;\n    this.bgColor = bgColor;\n    this.ramp = ramp;\n    this.baseRamp =\n      baseRamp || (bgColor && bgColor.baseRamp) || theme.ramps.gray;\n    this.lightness = lab[0];\n  }\n\n  // TODO: consider removing `bgRamp` and `bgRampValue from theme\n  static fromTheme(theme) {\n    if (!(theme instanceof Theme)) {\n      throw new Error('Need to give me a Theme instance, not a \"theme config\"');\n    }\n    const ramp = theme.ramps[theme.bgRamp];\n    const lab = ramp(theme.bgRampValue);\n    return new Color({\n      theme,\n      bgColor: null,\n      lab,\n      ramp,\n      baseRamp: ramp\n    });\n  }\n\n  contrast(contrastAmount = 100, ramp = this.baseRamp) {\n    if (ramp.config.mode === \"direct\") {\n      return this.direct(ramp);\n    }\n\n    // Two parent colors (in hex) may be the same, but we still gotta compare the base ramps, hence caching on `this.baseRamp`\n    return cache.at([this.hex, this.baseRamp, contrastAmount, ramp], () => {\n      const { theme } = this;\n      const isRootBaseRamp = ramp === theme.ramps[theme.bgRamp];\n\n      const [min, max] = this._getMinMax(ramp);\n      const [bgMin, bgMax] = this._getMinMax(this.ramp);\n      const normalizedLightness = (this.lightness - bgMin) / (bgMax - bgMin); // __0 _.5 __1\n\n      // BASICS ---\n\n      const basicMultiplier = (() => {\n        const midpoint = (min + max) / 2;\n        const direction = this.lightness < midpoint ? 1 : -1;\n        const contrastRescale = (max - min) / 100;\n        return direction * contrastRescale;\n      })();\n\n      // ADVANCED ---\n\n      const advancedMultiplier = (() => {\n        let contrastMultiplier = 1;\n        let contrastNormalizer = 1;\n        let colorContrastMinMax = 1;\n\n        if (isRootBaseRamp || theme.contrastMultiplier < 1) {\n          contrastMultiplier = theme.contrastMultiplier;\n        }\n\n        if (\n          (theme.rescaleContrastToGrayRange && isRootBaseRamp) ||\n          (theme.rescaleContrastToSignalRange && !isRootBaseRamp)\n        ) {\n          contrastNormalizer = Math.abs(normalizedLightness - 0.5) + 0.5; // __1 _.5 __1\n        }\n\n        if (!isRootBaseRamp) {\n          const midpoint = (min + max) / 2;\n          colorContrastMinMax =\n            this.lightness < midpoint\n              ? theme.endSignalLightness\n              : 1 - theme.startSignalLightness;\n        }\n\n        return contrastMultiplier * contrastNormalizer * colorContrastMinMax;\n      })();\n\n      // PUT IT ALL TOGETHER ---\n\n      let targetLightness =\n        this.lightness + contrastAmount * basicMultiplier * advancedMultiplier;\n\n      // Rescale targetLightness from ramp range to 0-1\n      let scaleValue =\n        (targetLightness - ramp.startL) / (ramp.endL - ramp.startL);\n\n      const [bgL, bgA, bgB] = this.lab;\n      const [fgL, fgA, fgB] = ramp(scaleValue);\n\n      const abContrastMultiplier =\n        isRootBaseRamp || theme.contrastMultiplier > 1\n          ? 1\n          : theme.contrastMultiplier;\n\n      const abSaturationMultiplier =\n        isRootBaseRamp || theme.signalSaturationMultiplier > 1\n          ? 1\n          : theme.signalSaturationMultiplier;\n\n      // `ab` in abContrast refers to the A and B axes of the LAB color space\n      const abContrast =\n        (theme.rescaleSaturationToGrayRange ? contrastAmount / 100 : 1) *\n        abContrastMultiplier *\n        abSaturationMultiplier;\n\n      const signalSaturationMultiplier =\n        theme.signalSaturationMultiplier > 1 && !isRootBaseRamp\n          ? Math.max(\n              1,\n              theme.signalSaturationMultiplier *\n                (contrastAmount / 100) *\n                Math.min(theme.contrastMultiplier, 1)\n            )\n          : 1;\n\n      const l = bgL + (fgL - bgL) * 1; // Read this as just `fgL`\n      const a = (bgA + (fgA - bgA) * abContrast) * signalSaturationMultiplier;\n      const b = (bgB + (fgB - bgB) * abContrast) * signalSaturationMultiplier;\n\n      const finalLab = [l, a, b];\n\n      return new Color({\n        theme,\n        bgColor: this,\n        lab: finalLab,\n        ramp\n      });\n    });\n  }\n\n  direct(ramp) {\n    return cache.at([this.hex, ramp], () => {\n      if (ramp.config.mode !== \"direct\") throw new Error(\"Not allowed\");\n\n      const { theme, baseRamp } = this;\n      const [fgL, fgA, fgB] = ramp(\n        (this.lightness - baseRamp.startL) / (baseRamp.endL - baseRamp.startL)\n      );\n      const [bgL, bgA, bgB] = this.lab;\n      const mix = Math.min(theme.contrastMultiplier, 1);\n\n      const lab = [\n        bgL + (fgL - bgL) * mix,\n        bgA + (fgA - bgA) * mix,\n        bgB + (fgB - bgB) * mix\n      ];\n\n      return new Color({\n        theme,\n        bgColor: this,\n        lab,\n        ramp\n      });\n    });\n  }\n\n  base(ramp) {\n    return new Color({\n      theme: this.theme,\n      bgColor: this.bgColor,\n      lab: this.lab,\n      ramp: this.ramp,\n      baseRamp: ramp\n    });\n  }\n\n  alpha(amount) {\n    return chroma\n      .lab(...this.lab)\n      .alpha(amount * this.theme.contrastMultiplier)\n      .hex();\n  }\n\n  shadowColor(alpha = 1) {\n    return chroma\n      .lab(this.theme.ramps.gray(0))\n      .alpha(this.theme.contrastMultiplier * alpha);\n  }\n\n  _getMinMax(ramp) {\n    const rootBaseRamp = this.theme.ramps[this.theme.bgRamp];\n    // We're not requiring a ramp because we want the `contrast` method to work\n    // even if the parent Color instance has just a hex and a theme. This allows us to\n    // use our ramps on top of any background color.\n    if (!ramp || ramp.config.mode === \"direct\") {\n      return [rootBaseRamp.startL, rootBaseRamp.endL];\n    }\n\n    // if (ramp === rootBaseRamp) {\n    //   return [ramp.startL, ramp.endL];\n    // }\n\n    const min = Math.max(ramp.startL, rootBaseRamp.startL);\n    const max = Math.min(ramp.endL, rootBaseRamp.endL);\n    return [min, max];\n  }\n}\n\nexport function getLightness(color) {\n  // Sometimes we get small negative numbers, so we clamp with Math.max\n  return Math.max(0, chroma(color).get(\"lab.l\"));\n}\n","import { useState, useCallback, useEffect } from \"react\";\nimport _ from \"lodash\";\n\nlet counter = 0;\nfunction increment() {\n  return \"useBrowserState_huet_\" + counter++;\n}\n\nexport function reset() {\n  localStorage.clear();\n  window.location.reload();\n}\n\nlet incrementUnsaved = () => {};\nlet decrementUnsaved = () => {};\n\nexport function useIsBrowserStateSaving() {\n  const [keys, setKeys] = useState([]);\n  const isSaving = keys.length > 0;\n\n  useEffect(() => {\n    incrementUnsaved = key =>\n      setKeys(keys => (keys.includes(key) ? keys : [...keys, key]));\n    decrementUnsaved = key => setKeys(keys => keys.filter(k => k !== key));\n  }, []);\n\n  useEffect(() => {\n    const beforeUnload = e => {\n      if (isSaving) {\n        e.preventDefault();\n        return \"We're still saving...\";\n      }\n    };\n    window.addEventListener(\"beforeunload\", beforeUnload);\n    return () => window.removeEventListener(\"beforeunload\", beforeUnload);\n  }, [isSaving]);\n\n  return isSaving;\n}\n\nfunction countedDebounce(fn, delay) {\n  const debounced = _.debounce((...args) => {\n    decrementUnsaved(fn);\n    fn(...args);\n  }, delay);\n\n  return (...args) => {\n    incrementUnsaved(fn);\n    debounced(...args);\n  };\n}\n\nexport default function useBrowserState(defaultValue, { at } = {}) {\n  const [defaultKey] = useState(\n    // Need to slice since keys can get really big\n    () => increment() + \"_\" + btoa(JSON.stringify(defaultValue).slice(500))\n  );\n\n  // TODO: decide what to do about this\n  // if (!at) {\n  //   throw new Error(\"Need to store somewhere! 'at' param is missing.\");\n  //   try {\n  //     throw new Error(\"\");\n  //   } catch (error) {\n  //     const stackDepth = 2;\n  //     at = error.stack\n  //       .replace(/^Error:\\s+/, \"\") // Remove prefix\n  //       .replace(/\\(.*\\)/g, \"\") // Remove urls in between parens\n  //       .replace(/\\n\\s+/g, \"\\n\") // Remove spaces before each \"at\"\n  //       .match(/at \\w+/g) // Get array of things that start with \"at\"\n  //       .map(instance => instance.replace(\"at \", \"\"))\n  //       .slice(0, stackDepth)\n  //       .join(\".\");\n  //   }\n  // }\n\n  const key = at || defaultKey;\n\n  const [value, setValue] = useState(() => {\n    const storedString = localStorage.getItem(key);\n    const storedValue = JSON.parse(\n      storedString === \"undefined\" ? null : storedString\n    );\n    // Allow reference equality check to work by returning the default value rather than localStorage stuff\n    if (storedString === JSON.stringify(defaultValue)) return defaultValue;\n    return storedValue !== null ? storedValue : defaultValue;\n  });\n\n  const debounceSaveToLocalStorage = useCallback(\n    countedDebounce((key, value) => {\n      localStorage.setItem(key, JSON.stringify(value));\n    }, 1000),\n    []\n  );\n\n  useEffect(() => {\n    debounceSaveToLocalStorage(key, value);\n  }, [value]);\n\n  function setValueAndStorage(newValueOrFunc) {\n    setValue(newValueOrFunc);\n  }\n\n  return [value, setValueAndStorage];\n}\n","import chroma from \"chroma-js\";\nimport mapValues from \"map-values\"; // saved 20KB when bundling\nimport { getLightness } from \"./Color\";\nimport baseConfig from \"./private/baseThemeConfig\";\n\nconst allowed = [\n  \"id\",\n  \"name\",\n  \"pallet\",\n  \"ramps\",\n  \"bgRamp\",\n  \"bgRampValue\",\n  \"startSignalLightness\",\n  \"endSignalLightness\",\n  \"contrastMultiplier\",\n  \"signalSaturationMultiplier\",\n  \"rescaleSaturationToGrayRange\",\n  \"rescaleContrastToSignalRange\",\n  \"rescaleContrastToGrayRange\"\n];\n\nexport default class Theme {\n  /**\n   * Creates a theme instance from a themeConfig\n   * @param {Object} config\n   */\n  constructor(config = baseConfig) {\n    this.config = config;\n    Object.keys(config).forEach(key => {\n      if (!allowed.includes(key)) {\n        throw new Error(`${key} isn't allowed in Theme`);\n      }\n      this[key] = config[key];\n    });\n\n    const ramps = mapValues(config.ramps, ramp => createRamp(config, ramp));\n    this.ramps = ramps;\n  }\n}\n\n// ---\n\nfunction createRamp(themeConfig, rampConfig) {\n  const config = {\n    ...defaultRampConfig,\n    ...rampConfig\n  };\n\n  // TODO: if ramp is a \"colored\", then convert it based on the min and max colors.\n  const hexColors = config.colors.map(colorName => {\n    if (colorName in themeConfig.pallet) {\n      return themeConfig.pallet[colorName];\n    }\n    throw new Error(`Couldn't find color \"${colorName}\" in themeConfig.pallet`);\n  });\n\n  const scale = chroma.scale(hexColors);\n  if (config.colorModel) scale.mode(config.colorModel);\n  if (config.classes) scale.classes(config.classes);\n\n  let ramp;\n  switch (config.mode) {\n    case \"direct\":\n      ramp = createDirectRampWithScale(scale);\n      break;\n    case \"colored\":\n    default:\n      if (config.correctLightness) scale.correctLightness();\n      ramp = createRampWithScale(scale);\n      break;\n  }\n  ramp.config = config;\n  return ramp;\n}\n\n// Don't want to expose the underlying chroma-js stuff to the user.\n// The chroma-js scale is a function but also allows chaining and has fields.\nfunction wrapScaleFunc(scale) {\n  return n => scale(n).lab();\n}\n\nfunction createRampWithScale(scale) {\n  let scaleFunc = wrapScaleFunc(scale);\n  scaleFunc.startL = getLightness(scale(0));\n  scaleFunc.endL = getLightness(scale(1));\n  return scaleFunc;\n}\n\nfunction createDirectRampWithScale(scale) {\n  return wrapScaleFunc(scale);\n}\n\nconst defaultRampConfig = {\n  colors: [\"black\", \"white\"],\n  colorModel: \"lab\", // lrgb, lab\n  correctLightness: true,\n  mode: \"colored\"\n};\n","import React, { useContext } from \"react\";\nimport { ThemeContext, BackgroundContext } from \"./reactContexts\";\nimport Color from \"./Color\";\n\nconst Contrast = props => {\n  const {\n    as,\n    bg,\n    bgRamp,\n    text,\n    textRamp,\n    border,\n    borderRamp,\n    outline,\n    outlineRamp,\n    children,\n    style,\n    debug,\n    ...rest\n  } = {\n    as: \"div\",\n    bg: null,\n    border: null,\n    outline: null,\n    ...props\n  };\n\n  if (debug) {\n    debugger;\n  }\n\n  const theme = useContext(ThemeContext);\n  if (!theme) {\n    throw new Error(\"Need to set a theme before using a Contrast component\");\n  }\n\n  const parentBg = useContext(BackgroundContext) || Color.fromTheme(theme);\n\n  function contrast(parentColor, contrastAmount, rampKey) {\n    const ramp = rampKey ? theme.ramps[rampKey] : undefined;\n    return parentColor.contrast(contrastAmount, ramp);\n  }\n\n  // ---\n\n  let finalChildren = children;\n  let backgroundColor = null;\n  let textColor = null;\n\n  if (bg !== null) {\n    backgroundColor = contrast(parentBg, bg, bgRamp);\n    textColor = contrast(backgroundColor, text, textRamp);\n    finalChildren = children ? (\n      <BackgroundContext.Provider value={backgroundColor}>\n        {children}\n      </BackgroundContext.Provider>\n    ) : null;\n  } else {\n    textColor = contrast(parentBg, text, textRamp);\n  }\n\n  const coloredStyle = {\n    backgroundColor,\n    color: textColor,\n    borderColor:\n      border !== null ? contrast(parentBg, border, borderRamp) : null,\n    outlineColor:\n      outline !== null ? contrast(parentBg, outline, outlineRamp) : null\n  };\n\n  const returnProps = {\n    style: {\n      ...coloredStyle,\n      ...style\n    },\n    ...rest\n  };\n\n  return React.createElement(as, returnProps, finalChildren);\n};\n\nexport default Contrast;\n","import { create } from \"nano-css\";\nimport { addon as addonCache } from \"nano-css/addon/cache\";\nimport { addon as addonRule } from \"nano-css/addon/rule\";\nimport { addon as addonDrule } from \"nano-css/addon/drule\";\n\nconst nano = create();\naddonCache(nano);\naddonRule(nano);\naddonDrule(nano);\nconst { rule, drule } = nano;\n\nexport { rule, drule };\n","import React from \"react\";\n\n// TODO: consider making this component into an atom\n// How this component works:\n// https://css-tricks.com/snippets/css/css-triangle\n\nconst directionToCss = {\n  up: {\n    baseProp: \"borderBottom\",\n    leftProp: \"borderLeft\",\n    rightProp: \"borderRight\"\n  },\n  right: {\n    baseProp: \"borderLeft\",\n    leftProp: \"borderTop\",\n    rightProp: \"borderBottom\"\n  },\n  down: {\n    baseProp: \"borderTop\",\n    leftProp: \"borderRight\",\n    rightProp: \"borderLeft\"\n  },\n  left: {\n    baseProp: \"borderRight\",\n    leftProp: \"borderBottom\",\n    rightProp: \"borderLeft\"\n  }\n};\n\nexport default function Arrow({ size = \"1em\", direction = \"down\", style }) {\n  const directionCss = directionToCss[direction];\n  return (\n    <span\n      style={{\n        ...style,\n        display: \"inline-block\",\n        // Border gives the element a size despite the zeroes\n        width: 0,\n        height: 0,\n        background: \"transparent\",\n        // Note: get different proportions by changing the base size\n        [directionCss.baseProp]: `${size} solid currentColor`,\n        [directionCss.leftProp]: `${size} solid transparent`,\n        [directionCss.rightProp]: `${size} solid transparent`\n      }}\n    />\n  );\n}\n","import React, { useEffect } from \"react\";\nimport Theme from \"./Theme\";\nimport Color from \"./Color\";\nimport Block from \"./Block\";\nimport useBrowserState from \"./private/useBrowserState\";\nimport baseThemeConfig from \"./private/baseThemeConfig\";\n\nexport const ThemeConfiguratorContext = React.createContext();\n\nexport default function Body({\n  initialThemeConfig = baseThemeConfig,\n  setDocumentBodyColors,\n  ...rest\n}) {\n  const [themeConfig, setThemeConfig] = useBrowserState(initialThemeConfig);\n  const theme = new Theme(themeConfig);\n  const parentBg = Color.fromTheme(theme);\n\n  useEffect(() => {\n    if (setDocumentBodyColors) {\n      document.body.style.backgroundColor = parentBg;\n      document.body.style.color = parentBg.contrast(100);\n    }\n  }, [parentBg, setDocumentBodyColors]);\n\n  return (\n    <ThemeConfiguratorContext.Provider value={[theme, setThemeConfig]}>\n      <Block theme={theme} {...rest} />\n    </ThemeConfiguratorContext.Provider>\n  );\n}\n","import React from \"react\";\nimport __ from \"./atoms\";\nimport Block from \"../Block\";\n\nexport default function Labeled({ label, children, className, style }) {\n  if (!label) {\n    return (\n      <div className={className} style={style}>\n        {children}\n      </div>\n    );\n  }\n  return (\n    <label className={className} style={style}>\n      <Block style={{ ...__.mb1, cursor: \"default\" }}>{label}</Block>\n      {children}\n    </label>\n  );\n}\n","import React, { useContext, useState, useEffect, useMemo } from \"react\";\nimport { BackgroundContext } from \"../reactContexts\";\nimport Contrast from \"../Contrast\";\nimport __ from \"./atoms\";\nimport { rangeClass, inputStyle, maxInputWidthStyle } from \"./styles.js\";\nimport Labeled from \"./Labeled\";\nimport Block from \"../Block\";\n\nconst Range = ({\n  label,\n  min = 0,\n  max = 100,\n  decimals = 0,\n  value,\n  onChange,\n  className = \"\",\n  style,\n  hideInput = false\n}) => {\n  const step = 1 / Math.pow(10, decimals);\n  const [isTyping, setIsTyping] = useState(false);\n  const [stringNumber, setStringNumber] = useState(value.toFixed(decimals));\n  const isOutOfRange = value < min || value > max;\n\n  useEffect(() => {\n    if (!isTyping) setStringNumber(value.toFixed(decimals));\n  }, [value]);\n\n  const handleInputChange = e => {\n    setStringNumber(e.target.value);\n    const parsed = parseFloat(e.target.value);\n    if (!Number.isFinite(parsed)) return;\n    onChange(parsed);\n  };\n\n  const handleRangeChange = e => {\n    const parsed = parseFloat(e.target.value);\n    if (onChange) {\n      onChange(parsed);\n    }\n  };\n\n  const handleKey = e => {\n    console.log(e.key, e.shiftKey, e.which);\n    let direction = null;\n    if (e.key === \"ArrowUp\") direction = 1;\n    if (e.key === \"ArrowDown\") direction = -1;\n\n    let val;\n    if (direction) {\n      if (e.shiftKey) {\n        val = value + step * 10 * direction;\n      } else {\n        val = value + step * direction;\n      }\n      setStringNumber(val.toFixed(decimals));\n      onChange(val);\n      e.preventDefault();\n    }\n  };\n\n  const labelBody = useMemo(\n    () => (\n      <div style={__.flex.justify_between}>\n        {label}\n        <Contrast\n          text={isOutOfRange ? 100 : 50}\n          textRamp={isOutOfRange ? \"red\" : null}\n        >\n          ({min.toFixed(decimals)}-{max.toFixed(decimals)})\n        </Contrast>\n      </div>\n    ),\n    [label, isOutOfRange, decimals]\n  );\n\n  return (\n    <Labeled\n      label={label && labelBody}\n      className={className}\n      style={{ ...__.flex.flex_column, ...maxInputWidthStyle, ...style }}\n      onKeyDown={handleKey}\n    >\n      <div style={__.flex.items_center}>\n        {!hideInput && (\n          <Block\n            aria-hidden\n            base={isOutOfRange ? \"red\" : null}\n            contrast={isOutOfRange ? \"b=100 bg=12\" : \"b=20\"}\n            as=\"input\"\n            type=\"number\"\n            style={{\n              ...inputStyle,\n              width: \"5em\",\n              fontSize: \"inherit\",\n              cursor: \"initial\",\n              ...__.mr2.ba\n            }}\n            value={stringNumber}\n            step={step}\n            onFocus={() => setIsTyping(true)}\n            onBlur={() => setIsTyping(false)}\n            onChange={handleInputChange}\n          />\n        )}\n        <Block\n          as=\"input\"\n          contrast=\"b=20\"\n          aria-label={label}\n          type=\"range\"\n          className={rangeClass}\n          style={{\n            ...inputStyle,\n            ...__.self_stretch\n          }}\n          min={min}\n          max={max}\n          step={step}\n          value={value}\n          onChange={handleRangeChange}\n        />\n      </div>\n    </Labeled>\n  );\n};\n\nexport default Range;\n","import React from \"react\";\nimport Contrast from \"../Contrast\";\nimport Block from \"../Block\";\nimport __ from \"./atoms\";\nimport { inputStyle, invisibleScreenClass, focusWithinClass } from \"./styles\";\nimport displayError from \"./displayError\";\n\nexport function JsonUploadButton({ children, className, style, onUpload }) {\n  return (\n    <Button\n      as=\"div\"\n      className={`${focusWithinClass} + ${className}`}\n      style={{ ...__.relative, ...style }}\n    >\n      {children}\n      <input\n        type=\"file\"\n        className={invisibleScreenClass}\n        onChange={e => {\n          const reader = new FileReader();\n          reader.onload = () => onUpload(JSON.parse(reader.result));\n\n          const file = e.target.files[0];\n          if (file.type === \"application/json\") {\n            reader.readAsText(file);\n          } else {\n            displayError(\"Only JSON files are accepted.\");\n          }\n        }}\n      />\n    </Button>\n  );\n}\n\nfunction doubleCheck(boolOrMessage, cb) {\n  if (boolOrMessage && !cb)\n    throw new Error(\n      \"Need a callback, otherwise `doubleCheck(boolOrMessage, cb)` doesn't do anything.\"\n    );\n  return e => {\n    if (boolOrMessage) {\n      const didAccept = window.confirm(\n        boolOrMessage === true ? \"Are you sure?\" : boolOrMessage\n      );\n      if (!didAccept) return;\n    }\n    cb && cb(e);\n  };\n}\n\nexport default function Button({\n  as = \"button\",\n  style,\n  children,\n  isActive,\n  verify,\n  onClick,\n  ...rest\n}) {\n  return (\n    <Contrast\n      as={as}\n      bgRamp={isActive ? \"blue\" : \"null\"}\n      bg={12}\n      text={100}\n      onClick={doubleCheck(verify, onClick)}\n      {...rest}\n      style={{\n        ...inputStyle,\n        borderColor: \"transparent\",\n        ...__.flex.justify_center,\n        ...style\n      }}\n    >\n      {children}\n    </Contrast>\n  );\n}\n\nexport function TextButton({ as = \"button\", onClick, style, verify, ...rest }) {\n  return (\n    <Block\n      as={as}\n      base=\"blue\"\n      style={{\n        backgroundColor: \"transparent\",\n        padding: 0,\n        border: 0,\n        textDecoration: \"underline\",\n        cursor: \"pointer\",\n        ...style\n      }}\n      onClick={doubleCheck(verify, onClick)}\n      {...rest}\n    />\n  );\n}\n\n// <Block\n//   huetStyle={{\n//     base: \"red\",\n//     bg: 50,\n//     fgContrast: 10,\n//     fgRamp: \"red\",\n//     b: 5,\n//     bRamp: \"blue\"\n//   }}\n// >\n//   Hello\n// </Block>;\n\n// <div\n//   style={parentBg.style({\n//     base: \"red\",\n//     bg: 50,\n//     fgContrast: 10,\n//     fgRamp: \"red\",\n//     b: 5,\n//     bRamp: \"blue\"\n//   })}\n// >\n//   Hello\n// </div>;\n\n// <Block style={huet => huet(__.base_red.bgc1.fgc_2.bc1)}>Hello</Block>;\n\n// <Body themeConfig={themeConfig} atoms={atoms}>\n//   {/* Purely JS with React component */}\n//   <Block\n//     style={contrast => ({\n//       backgroundColor: contrast(100),\n//       color: contrast('backgroundColor', 100),\n//     })}\n//   >\n//     Hello\n//   </Block>\n//   {/* For composability with existing styles */}\n//   <Block\n//     huetStyle={{\n//       padding: '.5em',\n//       $base: 'red',\n//       '--bg': 100,\n//       '--bgFg': 100,\n//       '--fgBase':\n//     }}\n//   >\n//     Hello\n//   </Block>\n//   {/* If not importing $ into current module */}\n//   <Block atoms={$ => $.bg2.bgFg5}>Hello</Block>\n//   {/* If importing $ into current module */}\n//   <Block atoms={$.bg2.bgFg5}>Hello</Block>\n// </Body>;\n\n// <Body themeConfig={themeConfig} atoms={atoms} cssMode=\"inline\">\n//   <Block\n//     css={contrast => ({\n//       backgroundColor: contrast(100),\n//       color: contrast(100, 'red'),\n//       \"::placeholder\": {\n//         color: contrast(80),\n//       }\n//     })}\n//   >\n//     Hello\n//   </Block>\n//   <Block atoms='$bg-2 $bg/fg2'>Hello</Block>\n// </Body>;\n\n// <Body themeConfig={themeConfig} atoms={atoms} cssMode=\"inline\">\n//   <Block\n//     css={contrast => ({\n//       backgroundColor: 'var(--bg)',\n//       color: contrast(100, 'red'),\n//       \"::placeholder\": {\n//         color: 'var(--fg)',\n//       }\n//     })}\n//   >\n//     Hello\n//   </Block>\n//   <Block atoms='bg:2 bg/fg:2'>Hello</Block>\n// </Body>;\n","export default function displayError(message) {\n  // TODO: use a React portal here\n  console.error(message);\n  alert(message);\n}\n","import React from \"react\";\nimport Contrast from \"../Contrast\";\nimport Block from \"../Block.js\";\nimport __ from \"./atoms\";\n\nconst Checkbox = ({\n  label,\n  value,\n  onChange,\n  style,\n  className,\n  contrast,\n  note\n}) => {\n  return (\n    <Contrast\n      as=\"label\"\n      className={className}\n      style={{\n        ...__.inline_flex.relative,\n        cursor: \"default\",\n        ...style\n      }}\n      text={contrast}\n    >\n      <input\n        aria-label={label}\n        type=\"checkbox\"\n        checked={value}\n        onChange={e => onChange && onChange(e.target.checked)}\n        style={__.absolute.top0.left0.w100.h100}\n      />\n      <span style={{ ...__.mr1, fontSize: \"1.25em\", lineHeight: 1 }}>\n        {value ? \"\" : \"\"}\n      </span>\n      <div>\n        {label}\n        {note && (\n          <Block contrast=\"fg=50\" as=\"small\" style={__.db}>\n            {note}\n          </Block>\n        )}\n      </div>\n    </Contrast>\n  );\n};\nexport default Checkbox;\n","import React, { useContext } from \"react\";\nimport _ from \"lodash\";\nimport chroma from \"chroma-js\";\nimport { getLightness } from \"../Color\";\nimport { ThemeContext } from \"../reactContexts\";\nimport Block from \"../Block\";\nimport __ from \"./atoms\";\n\nfunction RampColorMarker({ color, grayRamp }) {\n  const size = \"1em\";\n  const l =\n    (getLightness(color) - grayRamp.startL) / (grayRamp.endL - grayRamp.startL);\n  return (\n    <Block\n      style={parentBg => ({\n        ...__.absolute.ba.w1.h1,\n        borderColor: parentBg.contrast(0).alpha(0.3),\n        outlineColor: parentBg.contrast(100).alpha(0.3),\n        backgroundColor: color || \"transparent\",\n        outlineWidth: 1,\n        outlineOffset: \"-2px\",\n        outlineStyle: \"solid\",\n        width: size,\n        height: size,\n        top: \"50%\",\n        left: `calc(${l * 100}% - ${size} * ${l})`,\n        transform: \"translateY(-50%)\"\n      })}\n    />\n  );\n}\n\nfunction duplicate(n) {\n  return [n, n];\n}\nfunction pairs(ramp) {\n  const classes = ramp.config.classes;\n  const classesArr = Array.isArray(classes)\n    ? classes\n    : [..._.range(0, 1, 1 / classes), 1];\n  const first = _.first(classesArr);\n  const last = _.last(classesArr);\n  const middle = _.initial(_.tail(classesArr));\n  return _.chunk([first, ..._.flatMap(middle, duplicate), last], 2);\n}\n\nconst InnerRamp = React.memo(function InnerRamp({ ramp }) {\n  if (!ramp) return null;\n\n  const type = ramp.config.classes ? \"classes\" : \"normal\";\n\n  switch (type) {\n    case \"classes\":\n      return (\n        <div style={__.br1.h100.w100.flex}>\n          {pairs(ramp).map(([first, second], i) => (\n            <div\n              key={i}\n              style={{\n                ...__.h100,\n                backgroundColor: chroma.lab(...ramp((first + second) / 2)),\n                width: `${(second - first) * 100}%`\n              }}\n            />\n          ))}\n        </div>\n      );\n    case \"normal\":\n    default:\n      return (\n        <div\n          style={{\n            ...__.br1.h100.w100,\n            background: `linear-gradient(to right, ${_.range(0, 1.2, 0.2)\n              .map(i => chroma.lab(...ramp(i)))\n              .join(\",\")})`\n          }}\n        />\n      );\n  }\n});\n\nconst ColorRamp = ({ ramp, theme }) => {\n  return (\n    <div\n      style={{\n        ...__.flex.w100.flex_row.h1.mb2,\n        marginLeft: `${ramp.startL}%`,\n        width: `${ramp.endL - ramp.startL}%`\n      }}\n    >\n      <div style={__.w100.relative.flex}>\n        <InnerRamp ramp={ramp} />\n        {ramp.config.colors.map((color, i) => (\n          <RampColorMarker\n            key={i}\n            color={theme.pallet[color]}\n            grayRamp={theme.ramps.gray}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default function ColorRamps() {\n  const theme = useContext(ThemeContext);\n  return (\n    <div style={__.w100}>\n      <Block\n        contrast=\"b=10\"\n        style={{\n          height: \"4px\",\n          marginBottom: 6,\n          background: \"linear-gradient(to right, black, white)\",\n          ...__.w100\n        }}\n      />\n      {Object.keys(theme.ramps).map(key => (\n        <ColorRamp key={key} ramp={theme.ramps[key]} theme={theme} />\n      ))}\n    </div>\n  );\n}\n","import React from \"react\";\nimport __ from \"./atoms\";\nimport Block from \"../Block\";\n\nexport default function AllExceptFirst({ styleExcept, styleEach, children }) {\n  return [\n    React.Children.map(children, (child, i) => (\n      <Block\n        style={parentBg => ({\n          ...(i > 0 && styleExcept),\n          ...styleEach\n        })}\n      >\n        {child}\n      </Block>\n    ))\n  ];\n}\n\nexport function HSpace({ size = 1, growEach, children, style, className }) {\n  return (\n    <div className={className} style={{ ...__.flex.flex_row, ...style }}>\n      <AllExceptFirst\n        styleEach={growEach ? { flexGrow: 1 } : null}\n        styleExcept={__[\"ml\" + size]}\n      >\n        {children}\n      </AllExceptFirst>\n    </div>\n  );\n}\n\nexport function VSpace({ size = 1, children, style, className }) {\n  return (\n    <div className={className} style={{ ...__.flex.flex_column, ...style }}>\n      <AllExceptFirst styleExcept={__[\"mt\" + size]}>{children}</AllExceptFirst>\n    </div>\n  );\n}\n","import React from \"react\";\nimport _ from \"lodash\";\nimport Block from \"../Block\";\nimport __ from \"./atoms\";\nimport { colorClass } from \"./styles\";\nimport { HSpace } from \"./AllExceptFirst\";\n\nfunction ColorPicker({ color, onChange }) {\n  return (\n    <Block\n      as=\"input\"\n      contrast=\"b=12\"\n      type=\"color\"\n      value={color}\n      onChange={e => onChange(e.target.value)}\n      className={colorClass}\n      style={{\n        ...__.w100.h1.pa0.ba.br1,\n        overflow: \"hidden\",\n        backgroundColor: color || \"transparent\"\n      }}\n    />\n  );\n}\n\nexport default function Pallet({ colors, onColorsChange }) {\n  return (\n    <HSpace growEach>\n      {_.map(colors, (color, key) => (\n        <ColorPicker\n          key={key}\n          color={color}\n          onChange={c => onColorsChange({ ...colors, [key]: c })}\n        />\n      ))}\n    </HSpace>\n  );\n}\n","import shared from \"../private/baseThemeConfig.js\";\n\n// function rgbCubeTheme(shared) {\n//   const palletColors = {\n//     red: \"#ff0000\",\n//     yellow: \"#ffff00\",\n//     green: \"#00ff00\",\n//     cyan: \"#00ffff\",\n//     blue: \"#0000ff\",\n//     purple: \"#ff00ff\"\n//   };\n\n//   const ramps = Object.keys(palletColors).reduce(\n//     (acc, label) => ({\n//       ...acc,\n//       [label]: { colors: [\"black\", label, \"white\"] }\n//     }),\n//     {}\n//   );\n\n//   return {\n//     ...shared,\n//     name: \"RGB Cube Corners\",\n//     pallet: {\n//       ...shared.pallet,\n//       ...palletColors\n//     },\n//     ramps: {\n//       ...shared.ramps,\n//       ...ramps\n//     }\n//   };\n// }\n\nconst themes = [\n  shared,\n  {\n    ...shared,\n    id: 2,\n    name: \"Base Inverted\",\n    bgRampValue: 0\n  },\n  // rgbCubeTheme(shared),\n  // {\n  //   id: 3,\n  //   ...shared,\n  //   name: \"High Contrast\",\n  //   pallet: {\n  //     ...shared.pallet,\n  //     red: \"#ff0030\",\n  //     yellow: \"#b77a00\",\n  //     green: \"#009700\",\n  //     blue: \"#0099ff\",\n  //     purple: \"#d400ff\"\n  //   },\n  //   bgRampValue: 0,\n  //   startSignalLightness: 0.3,\n  //   endSignalLightness: 0.7,\n  //   contrastMultiplier: 2,\n  //   signalSaturationMultiplier: 2\n  // },\n  {\n    ...shared,\n    id: 4,\n    name: \"Radioactive\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#69707f\",\n      white: \"#c1ff00\",\n      red: \"#ff88a4\",\n      yellow: \"#b1bd2d\",\n      green: \"#59c866\",\n      blue: \"#83beff\",\n      purple: \"#d2a8ff\"\n    },\n    bgRampValue: 0,\n    startSignalLightness: 0.46,\n    endSignalLightness: 0.61\n  },\n  {\n    ...shared,\n    id: 5,\n    name: \"Blueprint\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#384cd2\",\n      white: \"#ffffff\",\n      red: \"#ff0030\",\n      yellow: \"#988753\",\n      green: \"#009700\",\n      blue: \"#00a3ff\",\n      purple: \"#af60ff\"\n    },\n    ramps: {\n      ...shared.ramps,\n      gray: {\n        ...shared.ramps.gray,\n        colorModel: \"lrgb\"\n      }\n    },\n    startSignalLightness: 0.26,\n    endSignalLightness: 0.47\n  },\n  {\n    ...shared,\n    id: 6,\n    name: \"Terminal\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#0d171d\",\n      white: \"#7fff8b\",\n      red: \"#f54f75\",\n      yellow: \"#b1bd2d\",\n      green: \"#13a624\",\n      blue: \"#558cff\",\n      purple: \"#d75eff\"\n    },\n    bgRampValue: 0,\n    startSignalLightness: 0.5,\n    endSignalLightness: 0.63\n  },\n  {\n    ...shared,\n    id: 7,\n    name: \"Paperback\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#3d3531\",\n      white: \"#e2c1b1\",\n      red: \"#e13639\",\n      yellow: \"#c89455\",\n      green: \"#238e5d\",\n      blue: \"#366caa\",\n      purple: \"#8e65bf\"\n    },\n    bgRampValue: 1,\n    startSignalLightness: 0.36,\n    endSignalLightness: 0.55\n  },\n  {\n    ...shared,\n    id: 8,\n    name: \"Deep Dive\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#001b4f\",\n      white: \"#b6e8e8\",\n      red: \"#ff6669\",\n      yellow: \"#a09c5c\",\n      green: \"#319647\",\n      blue: \"#496eff\",\n      purple: \"#af5bff\"\n    },\n    bgRampValue: 0,\n    startSignalLightness: 0.44,\n    endSignalLightness: 0.63\n  },\n  {\n    ...shared,\n    id: 9,\n    name: \"Royal Purple\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#37233b\",\n      white: \"#f0c9e7\",\n      red: \"#e13639\",\n      yellow: \"#bd7f33\",\n      green: \"#00878e\",\n      blue: \"#3865da\",\n      purple: \"#7630c8\"\n    },\n    bgRampValue: 0,\n    startSignalLightness: 0.5,\n    endSignalLightness: 0.5\n  },\n  {\n    ...shared,\n    id: 10,\n    name: \"Orange Boost\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#474b56\",\n      white: \"#ff7c49\",\n      red: \"#e32850\",\n      yellow: \"#af7000\",\n      green: \"#00974c\",\n      blue: \"#2292cb\",\n      purple: \"#d961d6\"\n    },\n    bgRampValue: 0,\n    startSignalLightness: 0.27,\n    endSignalLightness: 0.76,\n    contrastMultiplier: 1,\n    signalSaturationMultiplier: 0.83\n  },\n  {\n    ...shared,\n    id: 11,\n    name: \"Faded Future\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#3c3d43\",\n      white: \"#b2bdff\",\n      red: \"#ff3200\",\n      yellow: \"#987a1d\",\n      green: \"#459700\",\n      blue: \"#0073ff\",\n      purple: \"#aa5dff\"\n    },\n    bgRamp: \"gray\",\n    bgRampValue: 0,\n    startSignalLightness: 0.36,\n    endSignalLightness: 0.72,\n    signalSaturationMultiplier: 0.59\n  },\n  {\n    ...shared,\n    id: 12,\n    name: \"A Box of Macaroni\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#0d0086\",\n      white: \"#ffc900\",\n      red: \"#ff0034\",\n      yellow: \"#8a6420\",\n      green: \"#26b047\",\n      blue: \"#6599ff\",\n      purple: \"#d400ff\"\n    },\n    startSignalLightness: 0.47,\n    endSignalLightness: 0.75,\n    signalSaturationMultiplier: 1.5,\n    contrastMultiplier: 1.5\n  },\n  {\n    ...shared,\n    id: 13,\n    name: \"Sunset\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#242744\",\n      white: \"#ffe173\",\n      red: \"#f20031\",\n      yellow: \"#c16000\",\n      green: \"#008d29\",\n      blue: \"#12889d\",\n      purple: \"#b555c8\"\n    },\n    ramps: {\n      ...shared.ramps,\n      gray: {\n        ...shared.ramps.gray,\n        colorModel: \"hcl\"\n      }\n    },\n    bgRampValue: 0,\n    startSignalLightness: 0.42,\n    endSignalLightness: 0.58\n  },\n  {\n    ...shared,\n    id: 14,\n    name: \"Astro\",\n    pallet: {\n      ...shared.pallet,\n      black: \"#040816\",\n      gray: \"#ffb980\",\n      white: \"#ffffff\",\n      red: \"#cb1c00\",\n      yellow: \"#bd8f5a\",\n      green: \"#02b984\",\n      blue: \"#4f81a7\",\n      purple: \"#b982d5\"\n    },\n    ramps: {\n      ...shared.ramps,\n      gray: {\n        ...shared.ramps.gray,\n        colors: [\"black\", \"gray\", \"white\"],\n        colorModel: \"hcl\"\n      }\n    },\n    bgRampValue: 0,\n    startSignalLightness: 0.42,\n    endSignalLightness: 0.58\n  }\n];\n\nexport default themes;\n","import React from \"react\";\nimport { inputStyle } from \"./styles\";\nimport Block from \"../Block.js\";\nimport __ from \"./atoms\";\nimport { maxInputWidthStyle } from \"./styles\";\nimport Labeled from \"./Labeled\";\n\nexport default function Input({\n  label,\n  value,\n  onChange,\n  className,\n  style,\n  ...rest\n}) {\n  return (\n    <Labeled\n      label={label}\n      style={{ ...__.flex.flex_column.flex_auto, ...maxInputWidthStyle }}\n    >\n      <Block\n        aria-label={label}\n        as=\"input\"\n        contrast=\"b=20\"\n        className={className}\n        style={{\n          ...inputStyle,\n          borderWidth: 1,\n          borderStyle: \"solid\",\n          cursor: \"initial\",\n          ...style\n        }}\n        value={value}\n        onChange={e => onChange && onChange(e.target.value)}\n        {...rest}\n      />\n    </Labeled>\n  );\n}\n","import React, {\n  useState,\n  useRef,\n  useContext,\n  useEffect,\n  useCallback\n} from \"react\";\nimport saveAs from \"file-saver\";\nimport defaultThemeConfigs from \"../demo/themeConfigs\";\nimport Theme from \"../Theme\";\nimport Block from \"../Block\";\nimport Arrow from \"./Arrow\";\nimport { ThemeContext, BackgroundContext } from \"../reactContexts\";\nimport __ from \"./atoms\";\nimport { ThemeConfiguratorContext } from \"../Body\";\nimport Button, { TextButton, JsonUploadButton } from \"./Button\";\nimport useBrowserState from \"./useBrowserState\";\nimport baseThemeConfig from \"./baseThemeConfig\";\nimport Input from \"./Input\";\nimport { HSpace } from \"./AllExceptFirst\";\nimport Cache from \"./cache\";\n\nconst cache = new Cache(30);\n\nfunction ThemeFrame({ theme, isSelected, children, onClick, isHidden }) {\n  const style = parentBg => ({\n    ...__.w100.h100.ba.br2.relative,\n    boxShadow: `0 2px 10px ${parentBg.contrast(100).alpha(0.2)}`,\n    overflow: \"hidden\"\n  });\n\n  const width = 22;\n\n  return (\n    <div\n      style={{\n        ...__.pv3.pl3.flex.relative,\n        flexBasis: `${22}em`,\n        flexShrink: 0,\n        transitionProperty: \"transform, margin, opacity\",\n        transitionDuration: \"150ms\",\n        transitionTimingFunction: \"ease-out\",\n        ...(isHidden && {\n          pointerEvents: \"none\",\n          transform: `scaleX(0)`,\n          opacity: 0,\n          marginLeft: `-${width / 2}em`,\n          marginRight: `-${width / 2}em`\n        })\n      }}\n    >\n      {isSelected ? (\n        <Block theme={theme} as=\"div\" contrast=\"bg=0 b=100\" style={style}>\n          {children}\n          <Arrow direction=\"up\" size=\".75em\" style={__.abc} />\n        </Block>\n      ) : (\n        <Block\n          theme={theme}\n          as=\"button\"\n          onClick={onClick}\n          contrast=\"bg=0 b=12\"\n          style={style}\n        >\n          <div style={__.h100}>{children}</div>\n        </Block>\n      )}\n    </div>\n  );\n}\n\nfunction Pallet() {\n  const theme = useContext(ThemeContext);\n  return (\n    <div style={{ ...__.flex, height: \"0.5em\" }}>\n      {Object.keys(theme.pallet).map(palletKey => (\n        <div\n          key={palletKey}\n          style={{\n            ...__.w100.h100,\n            backgroundColor: theme.pallet[palletKey]\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\nfunction Title({ children }) {\n  return (\n    <h3 style={__.mh2.pv2.flex.items_center.justify_between}>{children}</h3>\n  );\n}\n\nfunction Shadow() {\n  return (\n    <Block\n      style={parentBg => ({\n        marginTop: \"-.5rem\",\n        height: \".5rem\",\n        background: `linear-gradient(${parentBg}, ${parentBg.contrast(12)})`\n      })}\n    />\n  );\n}\n\nfunction ColorMatrix() {\n  const theme = useContext(ThemeContext);\n  return [\n    Object.keys(theme.ramps)\n      .filter(rampKey => theme.ramps[rampKey].config.mode === \"colored\")\n      .map(rampKey => (\n        <div key={rampKey} style={__.flex}>\n          {[100, 75, 50, 25].map((contrastInner, i) => (\n            <Block\n              key={contrastInner}\n              base={rampKey}\n              contrast={`bg=${contrastInner}`}\n              style={{\n                ...__.w100,\n                marginTop: 1,\n                height: rampKey === \"gray\" ? \"1.5rem\" : \"0.5rem\"\n              }}\n            />\n          ))}\n        </div>\n      ))\n  ];\n}\n\nfunction Section({ children }) {\n  return (\n    <>\n      <Shadow />\n      <Block style={__.flex}>\n        <div style={__.pa2.w100.flex.flex_column}>{children}</div>\n      </Block>\n    </>\n  );\n}\n\nconst ThemePreview = React.memo(({ config, isSelected, onClick, onRemove }) => {\n  const [isHidden, setIsHidden] = useState(false);\n  const theme = new Theme(config);\n  const isBaseTheme = config.id === baseThemeConfig.id;\n\n  function startRemove() {\n    setIsHidden(true);\n    setTimeout(onRemove, 200);\n  }\n\n  return (\n    <ThemeFrame\n      theme={theme}\n      isSelected={isSelected}\n      onClick={onClick}\n      isHidden={isHidden}\n    >\n      <Pallet />\n      <Title>\n        {theme.name}\n        {isSelected && !isBaseTheme && (\n          <TextButton base=\"red\" onClick={startRemove} verify>\n            Remove\n          </TextButton>\n        )}\n      </Title>\n      <Section>\n        <ColorMatrix />\n      </Section>\n    </ThemeFrame>\n  );\n});\n\nfunction ModifiedThemePreview({ config, onReset, onCreate }) {\n  const theme = new Theme(config);\n  return (\n    <ThemeFrame isSelected theme={theme}>\n      <Pallet />\n      <Title>{theme.name}</Title>\n      <Section>\n        <Button bgRamp=\"green\" bg={100} text={100} onClick={onCreate}>\n          Save As New Theme\n        </Button>\n        <Button\n          text={100}\n          bgRamp=\"red\"\n          bg={100}\n          style={__.mt1}\n          verify\n          onClick={onReset}\n        >\n          Reset\n        </Button>\n      </Section>\n    </ThemeFrame>\n  );\n}\n\nexport default function Themes({ label }) {\n  const [themeConfigs, setThemeConfigs] = useBrowserState(defaultThemeConfigs);\n  const [theme, setSelectedConfig] = useContext(ThemeConfiguratorContext);\n  const selectedConfig = theme.config;\n\n  const scrollContainerRef = useRef(null);\n\n  // const isDirty =\n  //   selectedConfig !==\n  //   themeConfigs.find(config => config.id === selectedConfig.id);\n\n  useEffect(() => {\n    // Want to show the import dialog, so only show current them if it's not the default one\n    // if (selectedConfig.id === baseThemeConfig.id) return;\n    if (!scrollContainerRef.current.childNodes.length) {\n      throw new Error(\"Expecting at least one child\");\n    }\n    const width = scrollContainerRef.current.childNodes[0].getBoundingClientRect()\n      .width;\n    const currentIndex = themeConfigs.findIndex(\n      config => config.id === selectedConfig.id\n    );\n    setTimeout(() => {\n      scrollContainerRef.current.scrollTo({\n        left: width * currentIndex,\n        behavior: \"smooth\"\n      });\n    }, 100);\n  }, [selectedConfig.id]);\n\n  const isSelected = config => config.id === selectedConfig.id;\n  const isSelectedAndModified = config =>\n    isSelected(config) &&\n    // TODO: consider deep comparison\n    // http://www.mattzeunert.com/2016/01/28/javascript-deep-equal.html\n    JSON.stringify(config) !== JSON.stringify(selectedConfig);\n\n  const exportTheme = useCallback(() => {\n    // Generating a random id\n    const configWithNewId = { ...selectedConfig, id: Math.random() };\n    const str = JSON.stringify(configWithNewId, null, \"  \");\n    const blob = new Blob([str], {\n      type: \"text/plain;charset=utf-8\"\n    });\n    saveAs(blob, selectedConfig.name + \" Huet Theme.json\");\n  });\n\n  return (\n    <>\n      <div ref={scrollContainerRef} style={{ ...__.flex, overflowX: \"scroll\" }}>\n        {themeConfigs.map((config, i) => {\n          const onSelect = () => setSelectedConfig(config);\n\n          const onRemove = () => {\n            const newThemeConfigs = themeConfigs.filter(\n              config => !isSelected(config)\n            );\n            setThemeConfigs(newThemeConfigs);\n            setSelectedConfig(\n              newThemeConfigs[Math.min(i, newThemeConfigs.length - 1)]\n            );\n          };\n\n          const onCreate = () => {\n            const newConfig = {\n              ...selectedConfig,\n              id: Math.random(),\n              name:\n                config.name === selectedConfig.name\n                  ? config.name + \" Copy\"\n                  : selectedConfig.name\n            };\n            setThemeConfigs([newConfig, ...themeConfigs]);\n            setSelectedConfig(newConfig);\n          };\n\n          return isSelectedAndModified(config) ? (\n            <ModifiedThemePreview\n              key={config.id}\n              config={selectedConfig}\n              onReset={onSelect}\n              onCreate={onCreate}\n            />\n          ) : (\n            <ThemeContext.Provider value={null} key={config.id}>\n              <BackgroundContext.Provider value={null}>\n                <ThemePreview\n                  config={config}\n                  isSelected={isSelected(config)}\n                  onClick={cache.at([config], () => onSelect)}\n                  onRemove={cache.at([config], () => onRemove)}\n                />\n              </BackgroundContext.Provider>\n            </ThemeContext.Provider>\n          );\n        })}\n        <div style={__.pr3} />\n      </div>\n      <div style={__.ph3.pb3}>\n        <Input\n          label={label}\n          style={__.flex_auto.mb2}\n          value={selectedConfig.name}\n          onChange={name => setSelectedConfig({ ...selectedConfig, name })}\n        />\n        <HSpace growEach>\n          <Button onClick={exportTheme} style={__.w100}>\n            Export Theme\n          </Button>\n          <JsonUploadButton\n            onUpload={themeConfig => {\n              setThemeConfigs([themeConfig, ...themeConfigs]);\n              setSelectedConfig(themeConfig);\n            }}\n          >\n            Import Theme\n          </JsonUploadButton>\n        </HSpace>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport Block from \"../Block\";\nimport useBrowserState, { useIsBrowserStateSaving } from \"./useBrowserState\";\nimport __ from \"./atoms\";\nimport { themerClass } from \"./styles\";\n\nfunction BrowserStateActivity() {\n  const count = useIsBrowserStateSaving();\n  return (\n    <Block\n      base=\"green\"\n      contrast=\"bg=25\"\n      style={{\n        ...__.di.br3.ph2,\n        fontWeight: \"normal\",\n        transitionProperty: \"opacity\",\n        transitionDuration: \"400ms\",\n        opacity: count ? 0 : 1\n      }}\n    >\n      Saved\n    </Block>\n  );\n}\n\nfunction TitleBar({ isExpanded, onClick }) {\n  return (\n    <Block\n      as=\"button\"\n      onClick={onClick}\n      contrast=\"bg=100\"\n      style={{\n        ...__.w100.db.flex.justify_between,\n        flexShrink: 0,\n        userSelect: \"none\"\n      }}\n    >\n      <div style={__.pv2.ph2.b}>\n        Huet Theme Configurator {isExpanded && <BrowserStateActivity />}\n      </div>\n      <Block contrast=\"bg=25\" style={__.flex.justify_center.items_center.ph3.b}>\n        {isExpanded ? \"\" : \"\"}\n      </Block>\n    </Block>\n  );\n}\n\nconst shadowBorderStyle = parentBg => ({\n  boxShadow: `0 5px 30px ${parentBg.contrast(100).alpha(0.125)}`,\n  outlineWidth: 1,\n  outlineStyle: \"solid\",\n  outlineColor: parentBg.contrast(25)\n});\n\nexport default function ThemerShell({ children }) {\n  const [isExpanded, setIsExpanded] = useBrowserState(true);\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => setIsMounted(true), []);\n\n  if (!isExpanded) {\n    return (\n      <Block className={themerClass} style={shadowBorderStyle}>\n        <TitleBar onClick={() => setIsExpanded(v => !v)} />\n      </Block>\n    );\n  }\n\n  return (\n    <Block\n      className={themerClass}\n      style={parentBg => ({\n        ...__.flex.flex_column,\n        top: 0,\n        right: null,\n        position: \"sticky\",\n        height: \"100vh\",\n        maxHeight: \"100%\",\n        ...shadowBorderStyle(parentBg),\n        transform: isMounted ? \"translateY(0)\" : \"translateY(2em)\",\n        opacity: isMounted ? 1 : 0\n      })}\n    >\n      <TitleBar isExpanded onClick={() => setIsExpanded(v => !v)} />\n      {children}\n    </Block>\n  );\n}\n","import React, { useContext } from \"react\";\nimport Button from \"./Button\";\nimport __ from \"./atoms\";\nimport { ThemeContext } from \"../reactContexts\";\nimport { HSpace } from \"./AllExceptFirst\";\nimport Color from \"../Color\";\nimport Arrow from \"./Arrow\";\n\nfunction BgColorPreview({ scaleValue, isSelected, onClick }) {\n  const theme = useContext(ThemeContext);\n  const ramp = theme.ramps[theme.bgRamp];\n  const lab = ramp(scaleValue);\n  const color = new Color({\n    theme,\n    bgColor: null,\n    lab,\n    ramp,\n    baseRamp: ramp\n  });\n\n  return (\n    <Button\n      style={{\n        ...__.ba.w100.relative.h2,\n        backgroundColor: color,\n        borderColor: color.contrast(isSelected ? 100 : 12),\n        color: color.contrast(75),\n        boxShadow: `0 2px 10px ${color.shadowColor(0.2)}`\n      }}\n      onClick={onClick}\n    >\n      {scaleValue * 100}%\n      {isSelected && (\n        <Arrow\n          direction=\"up\"\n          size=\".5em\"\n          style={{\n            ...__.abc,\n            transform: \"translate(-50%, 1px)\",\n            color: color.contrast(100)\n          }}\n        />\n      )}\n    </Button>\n  );\n}\n\nexport default function BgColors({ bgRampValue, onRampValueChange }) {\n  return (\n    <HSpace growEach style={__.flex} size=\"2\">\n      {[0, 0.25, 0.75, 1].map(scaleValue => (\n        <BgColorPreview\n          key={scaleValue}\n          scaleValue={scaleValue}\n          isSelected={bgRampValue === scaleValue}\n          onClick={() => onRampValueChange(scaleValue)}\n        />\n      ))}\n    </HSpace>\n  );\n}\n","import React, { useContext } from \"react\";\n\nimport Theme from \"./Theme\";\nimport Block from \"./Block\";\nimport { ThemeConfiguratorContext } from \"./Body.js\";\n\nimport useBrowserState, { reset } from \"./private/useBrowserState\";\nimport Range from \"./private/Range\";\nimport Button from \"./private/Button\";\nimport Checkbox from \"./private/Checkbox\";\nimport ColorRamps from \"./private/ColorRamps\";\nimport Pallet from \"./private/Pallet\";\nimport Themes from \"./private/Themes\";\nimport __ from \"./private/atoms\";\nimport baseThemeConfig from \"./private/baseThemeConfig\";\nimport Labeled from \"./private/Labeled\";\nimport ThemerShell from \"./private/ThemerShell\";\nimport { VSpace } from \"./private/AllExceptFirst\";\nimport BgColors from \"./private/BgColors\";\n\nconst baseTheme = new Theme(baseThemeConfig);\n\nfunction ScrollPanel({ children }) {\n  return (\n    <div\n      style={{\n        overflowY: \"scroll\",\n        overflowX: \"hidden\",\n        maxWidth: \"30em\",\n        overscrollBehavior: \"contain\"\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nfunction SettingTitled({ name, settingKey, children }) {\n  return (\n    <div>\n      <div style={{ ...__.b, textDecoration: \"underline\" }}>{name}</div>\n      {settingKey && (\n        <Block as=\"code\" contrast=\"fg=25\" style={__.b.mono}>\n          {settingKey}\n        </Block>\n      )}\n      <div style={__.mt2}>{children}</div>\n    </div>\n  );\n}\n\nconst definitions = {\n  name: {\n    label: \"Theme Name\",\n    description: \"The name of the theme.\"\n  },\n  bgRamp: {\n    label: \"\",\n    description: (\n      <div>\n        This is the ramp you'll use for your background, and likely most other\n        neutral backgrounds. It's best to keep this to the default of \"gray\".\n      </div>\n    )\n  },\n  bgRampValue: {\n    label: \"Background Color\",\n    description: \"Adjust the background color based on the ramp.\",\n    example: (\n      <Block style={__.pa2}>\n        <Block contrast=\"bg=100\" style={__.pa2}>\n          Hello\n        </Block>\n      </Block>\n    )\n  },\n  contrastMultiplier: {\n    label: \"Contrast\",\n    description: \"Multiply every contrast setting by a specific number.\",\n    example: (\n      <Block style={__.pa2.flex}>\n        <Block contrast=\"bg=100\" style={__.pa2.w100}>\n          <b style={__.b.bb.mb1}>Before</b>\n          <Block contrast=\"fg=50\">One</Block>\n          <Block contrast=\"fg=100\">Two</Block>\n        </Block>\n        <Block contrast=\"bg=100\" style={__.pa2.w100}>\n          <b style={__.b.bb.mb1}>After</b>\n          <Block contrast=\"fg=100\">One</Block>\n          <Block contrast=\"fg=100\">Two</Block>\n        </Block>\n      </Block>\n    )\n  },\n  pallet: {\n    label: \"Pallet\",\n    description:\n      \"You set specific hex values for these colors, but only access them indirectly via ramps.\"\n  },\n  ramps: {\n    label: \"Color ramps\",\n    description: (\n      <div>\n        Instead of specifying 5 different reds individually, a ramp lets you\n        specify a beginning, end, and middle color. If a pallet color is a\n        point, ramps draw lines between these points. For advanced scenarios\n        you'll have more pallet colors than ramps.\n        {/* <Hr /> */}\n        <pre>Hello</pre>\n      </div>\n    )\n  },\n  startSignalLightness: {\n    label: \"Signal Lightness on 'White'\",\n    description: \"Signal colors are usually red, yellow, and green\"\n  },\n  endSignalLightness: {\n    label: \"Signal Lightness on 'Black'\",\n    description: (\n      <div>\n        See <span style={__.mono.di}>startSignalLightness</span>\n      </div>\n    )\n  },\n  signalSaturationMultiplier: {\n    label: \"Signal Saturation\",\n    description:\n      \"Normally keep this at 1. However, it's a good quick way to mute a loud theme. It only applies to signal colors.\"\n  },\n  rescaleContrastToSignalRange: {\n    label: \"Rescale signal contrast to background\",\n    description:\n      \"Reduces the rendered color's contrast when the signal color is on top of a very gray color. The upside is that the color's contrast is accurate relative to it's parent and other surrounding elements. The downside is that you get reduced contrast (accessibility), and not the contrast you actually wanted.\"\n  },\n  rescaleSaturationToGrayRange: {\n    label: \"Rescale signal saturation to background\",\n    description:\n      \"This is an experimental setting for a reason. If we can guarantee that all signal ramps will always have only colors, then it's somewhat straightforward to implement. Use this setting if you have a lot of backgrounds at 50% contrast or so. This will help signal colors not pop too much.\"\n  },\n  rescaleContrastToGrayRange: {\n    label: \"Rescale base contrast to background\",\n    description: (\n      <div>\n        See: <div style={__.mono.di}>rescaleContrastToSignalRange</div>\n      </div>\n    )\n  }\n};\n\nfunction Help({ theme }) {\n  return (\n    <ScrollPanel>\n      <div style={{ ...__.pa3.f6.br }}>\n        {Object.keys(definitions).map((key, i) => {\n          const def = definitions[key];\n          return (\n            <Block\n              key={key}\n              contrast=\"b=12\"\n              style={i === 0 ? null : { ...__.mt3.bt.pt3 }}\n            >\n              <SettingTitled key={key} name={def.label} settingKey={key}>\n                {def.description}\n              </SettingTitled>\n              {def.example && (\n                <Block contrast=\"b=12\" style={__.ba.mt2}>\n                  <Block contrast=\"bg=0\" theme={theme}>\n                    {def.example}\n                  </Block>\n                </Block>\n              )}\n            </Block>\n          );\n        })}\n        {/* <SettingTitled name=\"Theme the themer\" /> */}\n      </div>\n    </ScrollPanel>\n  );\n}\n\nexport default function Themer() {\n  const [theme, setThemeConfig] = useContext(ThemeConfiguratorContext);\n  const [shouldThemeSelf, setShouldThemeSelf] = useBrowserState(true);\n\n  const themeConfig = theme.config;\n\n  function modify(key) {\n    return newValue => {\n      setThemeConfig({\n        ...themeConfig,\n        [key]: newValue\n      });\n    };\n  }\n\n  // Consider useReducer?\n  const setBgRampValue = modify(\"bgRampValue\");\n  const setContrastMultiplier = modify(\"contrastMultiplier\");\n  const setSaturationMultiplier = modify(\"signalSaturationMultiplier\");\n  const setPallet = modify(\"pallet\");\n  const setStartSignalLightness = modify(\"startSignalLightness\");\n  const setEndSignalLightness = modify(\"endSignalLightness\");\n  const setRescaleContrastToGrayRange = modify(\"rescaleContrastToGrayRange\");\n  const setRescaleSaturationToGrayRange = modify(\n    \"rescaleSaturationToGrayRange\"\n  );\n  const setRescaleContrastToSignalRange = modify(\n    \"rescaleContrastToSignalRange\"\n  );\n\n  const themerTheme = shouldThemeSelf ? theme : baseTheme;\n\n  const [showHelp, setShowHelp] = useBrowserState(false);\n\n  return (\n    <Block theme={themerTheme} contrast=\"bg=0\" style={{ flexShrink: 0 }}>\n      <ThemerShell>\n        <div style={__.flex}>\n          {showHelp && <Help theme={theme} />}\n          <ScrollPanel>\n            <Block base=\"blue\" contrast=\"bg=50\" style={__.pa1}>\n              <Checkbox\n                label=\"Show Help?\"\n                value={showHelp}\n                onChange={setShowHelp}\n              />\n            </Block>\n            <Block contrast=\"bg=12\">\n              <Themes label={definitions[\"name\"].label} />\n            </Block>\n            <VSpace size=\"2\" style={__.pa3}>\n              <Labeled label={definitions[\"bgRampValue\"].label}>\n                <Block theme={theme}>\n                  <BgColors\n                    bgRampValue={themeConfig.bgRampValue}\n                    onRampValueChange={setBgRampValue}\n                  />\n                </Block>\n              </Labeled>\n              <Range\n                label={definitions[\"contrastMultiplier\"].label}\n                min={0}\n                max={1}\n                decimals={2}\n                value={themeConfig.contrastMultiplier}\n                onChange={setContrastMultiplier}\n              />\n              <Labeled label=\"Pallet\">\n                <Pallet\n                  colors={themeConfig.pallet}\n                  onColorsChange={setPallet}\n                />\n              </Labeled>\n              <Labeled label=\"Color ramps\">\n                <ColorRamps />\n              </Labeled>\n              <Range\n                label={definitions[\"endSignalLightness\"].label}\n                value={themeConfig.endSignalLightness}\n                onChange={setEndSignalLightness}\n                min={0}\n                max={1}\n                decimals={2}\n              />\n              <Range\n                label={definitions[\"startSignalLightness\"].label}\n                value={themeConfig.startSignalLightness}\n                onChange={setStartSignalLightness}\n                min={0}\n                max={1}\n                decimals={2}\n              />\n              <Range\n                label={definitions[\"signalSaturationMultiplier\"].label}\n                value={themeConfig.signalSaturationMultiplier}\n                onChange={setSaturationMultiplier}\n                min={0}\n                max={1}\n                decimals={2}\n              />\n              <Checkbox\n                label={definitions[\"rescaleContrastToSignalRange\"].label}\n                value={themeConfig.rescaleContrastToSignalRange}\n                onChange={setRescaleContrastToSignalRange}\n              />\n              <Checkbox\n                label={definitions[\"rescaleSaturationToGrayRange\"].label}\n                value={themeConfig.rescaleSaturationToGrayRange}\n                onChange={setRescaleSaturationToGrayRange}\n                note=\"Experimental: makes colors too desaturated\"\n              />\n              <Checkbox\n                label={definitions[\"rescaleContrastToGrayRange\"].label}\n                value={themeConfig.rescaleContrastToGrayRange}\n                onChange={setRescaleContrastToGrayRange}\n              />\n              <Checkbox\n                label=\"Theme the themer\"\n                value={shouldThemeSelf}\n                onChange={setShouldThemeSelf}\n              />\n              <Button\n                bg={100}\n                bgRamp=\"red\"\n                textRamp=\"white\"\n                onClick={reset}\n                verify\n              >\n                Clear Local Storage\n              </Button>\n            </VSpace>\n          </ScrollPanel>\n        </div>\n      </ThemerShell>\n    </Block>\n  );\n}\n","import React from \"react\";\nimport { detect } from \"detect-browser\";\nimport ErrorBoundary from \"./private/ErrorBoundary\";\nimport Themer from \"./Themer\";\n\nconst browser = detect();\nif (browser && ![\"chrome\", \"firefox\"].includes(browser.name)) {\n  alert(\"Warning: Only Chrome and Firefox are suppported for now.\");\n}\n\nexport default function ThemeConfigurator() {\n  return (\n    <ErrorBoundary componentName=\"Theme Configurator\">\n      <Themer />\n    </ErrorBoundary>\n  );\n}\n","export { default as Theme } from \"./Theme\";\nexport { default as Color, getLightness } from \"./Color\";\nexport { ThemeContext, BackgroundContext } from \"./reactContexts\";\nexport { default as Contrast } from \"./Contrast\";\nexport { default as Body } from \"./Body\";\nexport { default as Block } from \"./Block\";\nexport { default as ThemeConfigurator } from \"./ThemeConfigurator\";\n","// NOTE: not using huet stuff here because we don't want this to have errors when huet has errors.\nimport React from \"react\";\nimport { reset } from \"./useBrowserState\";\n\nexport default class ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, info) {\n    // You can also log the error to an error reporting service\n    // logErrorToMyService(error, info);\n    console.error(error, info);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div\n          style={{\n            fontFamily: \"sans-serif\",\n            textAlign: \"center\",\n            padding: \"1em\",\n            background: \"white\",\n            color: \"black\"\n          }}\n        >\n          <h1 style={{ color: \"red\", fontSize: \"1em\", margin: \"0\" }}>\n            {this.props.componentName && this.props.componentName + \": \"}\n            Something went wrong\n          </h1>\n          <p style={{ margin: \".5em 0\" }}>\n            Try clearing local storage:{\" \"}\n            <button onClick={reset}>Reset this Page</button>\n          </p>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n","const MISS = \"MISS\";\n\nfunction setAtPath(map, path, value) {\n  let running = map;\n  for (let i = 0; i < path.length; i++) {\n    const key = path[i];\n    if (i === path.length - 1) {\n      running.set(key, value);\n    } else {\n      if (!running.has(key)) running.set(key, new Map());\n      running = running.get(key);\n    }\n  }\n}\n\nfunction getAtPath(map, path) {\n  let running = map;\n  for (let i = 0; i < path.length; i++) {\n    const key = path[i];\n    if (!running.has(key)) return MISS;\n    running = running.get(key);\n  }\n  return running;\n}\n\n// ---\n\nexport default class Cache {\n  constructor(resetAtItemCount = 500) {\n    this.resetAtItemCount = resetAtItemCount;\n    this.reset();\n  }\n\n  set(path, value) {\n    if (this.itemCount > this.resetAtItemCount) {\n      this.reset();\n    }\n    setAtPath(this.cached, path, value);\n    this.itemCount++;\n  }\n\n  get(path) {\n    const response = getAtPath(this.cached, path);\n    this.tries++;\n    if (response === MISS) {\n      return null;\n    } else {\n      this.hits++;\n    }\n    return response;\n  }\n\n  at(path, func) {\n    // return func();\n    const cachedValue = this.get(path);\n    if (cachedValue) return cachedValue;\n    const value = func();\n    this.set(path, value);\n    return value;\n  }\n\n  log() {\n    console.log(\n      `Size: ${this.itemCount}\nPercent hits: ${Math.round((this.hits / this.tries) * 100)}%\nHits: ${this.hits}\nMisses: ${this.tries - this.hits}\nTries: ${this.tries}`\n    );\n  }\n\n  reset() {\n    this.cached = new Map();\n    this.itemCount = 0;\n    this.tries = 0;\n    this.hits = 0;\n  }\n}\n\n// const cache = new Cache();\n// export function memo(func) {\n//   return (...params) => cache.at(params, () => func(...params));\n// }\n","import React from \"react\";\nimport Contrast from \"../Contrast\";\nimport __ from \"./atoms\";\nimport { inputStyle } from \"./styles\";\nimport Block from \"../Block\";\nimport Arrow from \"./Arrow\";\n\nconst Select = ({ value, onChange, label, children, className, style }) => {\n  const selectedChild =\n    children &&\n    React.Children.toArray(children).find(child => child.props.value === value);\n  const text = selectedChild ? selectedChild.props.children : \"None\";\n  const finalValue = selectedChild ? value : \"\";\n\n  return (\n    <div className={className} style={style}>\n      <div style={__.db.mb1}>{label}</div>\n      <Block\n        contrast=\"b=20\"\n        style={{\n          ...inputStyle,\n          ...__.relative.dib.w100.flex.justify_between.items_center\n        }}\n      >\n        <select\n          value={finalValue}\n          onChange={e => onChange && onChange(e.target.value)}\n          style={{\n            ...__.o0.absolute.w100.h100.top0.left0.br0,\n            padding: 1,\n            border: 0,\n            background: \"none\"\n          }}\n        >\n          {children}\n          {!selectedChild && <option value=\"\">None</option>}\n        </select>\n        {text}\n        <Arrow direction=\"down\" size=\".4em\" style={__.ml2.mr1} />\n      </Block>\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { lazy, Suspense } from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// General setup\nimport \"tachyons/css/tachyons.css\";\nimport \"./demo/globals\";\nimport ErrorBoundary from \"./private/ErrorBoundary\";\nimport useBrowserState from \"./private/useBrowserState\";\nimport { resetClass } from \"./private/styles\";\n\n// Theme stuff\nimport { Body, Block, ThemeConfigurator } from \"./huet\";\n\n// Components\nimport __ from \"./private/atoms\";\nimport Select from \"./private/Select\";\n\nconst pages = {\n  minimal: {\n    name: \"Minimal\",\n    component: () => <Block contrast=\"bg=100\">Hello</Block>\n  },\n  basic: {\n    name: \"Basic\",\n    component: lazy(() => import(\"./demo/pages/Basic\"))\n  },\n  github: {\n    name: \"Github\",\n    component: lazy(() => import(\"./demo/pages/Github\"))\n  },\n  colorContrast: {\n    name: \"Color Contrast\",\n    component: lazy(() => import(\"./demo/pages/ColorContrast\"))\n  },\n  youtube: {\n    name: \"YouTube\",\n    component: lazy(() => import(\"./demo/pages/YouTube\"))\n  },\n  explanation: {\n    name: \"Explanation\",\n    component: lazy(() => import(\"./demo/pages/Explanation\"))\n  }\n};\n\nfunction App() {\n  const [pageKey, setPageKey] = useBrowserState(\"basic\");\n\n  return (\n    <Body setDocumentBodyColors className={resetClass} style={__.flex}>\n      <div style={{ ...__.w100, overflow: \"hidden\" }}>\n        <Block\n          contrast=\"bg=10 b=100\"\n          style={{ ...__.bb, position: \"relative\", zIndex: 2 }}\n        >\n          <Select\n            label=\"Example Demos\"\n            style={__.pa2.pb3}\n            value={pageKey}\n            onChange={setPageKey}\n          >\n            {Object.keys(pages).map(pageKey => (\n              <option key={pageKey} value={pageKey}>\n                {pages[pageKey].name}\n              </option>\n            ))}\n          </Select>\n        </Block>\n        <div>\n          <Suspense fallback={<div>Loading...</div>}>\n            {React.createElement(pages[pageKey].component)}\n          </Suspense>\n        </div>\n      </div>\n      <ThemeConfigurator />\n    </Body>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <App />\n    </ErrorBoundary>\n  </React.StrictMode>,\n  rootElement\n);\n","window.debug = function(thing) {\n  debugger;\n  return thing;\n};\n"],"sourceRoot":""}